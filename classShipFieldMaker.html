<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FairShip: ShipFieldMaker Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FairShip
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classShipFieldMaker.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classShipFieldMaker-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ShipFieldMaker Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Creates various magnetic fields and assigns them to geometry regions.  
 <a href="classShipFieldMaker.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ShipFieldMaker:</div>
<div class="dyncontent">
<div class="center"><img src="classShipFieldMaker__inherit__graph.png" border="0" usemap="#aShipFieldMaker_inherit__map" alt="Inheritance graph"/></div>
<map name="aShipFieldMaker_inherit__map" id="aShipFieldMaker_inherit__map">
<area shape="rect" title="Creates various magnetic fields and assigns them to geometry regions." alt="" coords="55,80,176,107"/>
<area shape="rect" title=" " alt="" coords="5,5,225,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ShipFieldMaker:</div>
<div class="dyncontent">
<div class="center"><img src="classShipFieldMaker__coll__graph.png" border="0" usemap="#aShipFieldMaker_coll__map" alt="Collaboration graph"/></div>
<map name="aShipFieldMaker_coll__map" id="aShipFieldMaker_coll__map">
<area shape="rect" title="Creates various magnetic fields and assigns them to geometry regions." alt="" coords="113,171,235,197"/>
<area shape="rect" title=" " alt="" coords="5,81,225,108"/>
<area shape="rect" href="classShipCompField.html" title="Class that defines a magnetic field composed from many fields." alt="" coords="249,81,368,108"/>
<area shape="rect" title=" " alt="" coords="243,5,375,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structShipFieldMaker_1_1fieldInfo.html">fieldInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to hold volume name, field name and field scaling factor.  <a href="structShipFieldMaker_1_1fieldInfo.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structShipFieldMaker_1_1transformInfo.html">transformInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to hold transformation information.  <a href="structShipFieldMaker_1_1transformInfo.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa1e6a61468cf4047a817ebba21dca3ac"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; TString, TVirtualMagField * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#aa1e6a61468cf4047a817ebba21dca3ac">SFMap</a></td></tr>
<tr class="memdesc:aa1e6a61468cf4047a817ebba21dca3ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for a TString-TVirtualMagField* map.  <a href="classShipFieldMaker.html#aa1e6a61468cf4047a817ebba21dca3ac">More...</a><br /></td></tr>
<tr class="separator:aa1e6a61468cf4047a817ebba21dca3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6704172970d0c5a787ca4dc5a44aaf13"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a></td></tr>
<tr class="memdesc:a6704172970d0c5a787ca4dc5a44aaf13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef of a vector of strings.  <a href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">More...</a><br /></td></tr>
<tr class="separator:a6704172970d0c5a787ca4dc5a44aaf13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a55ad765b425243cfb424ecc759a1918a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a55ad765b425243cfb424ecc759a1918a">ShipFieldMaker</a> (Bool_t verbose=kFALSE)</td></tr>
<tr class="memdesc:a55ad765b425243cfb424ecc759a1918a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classShipFieldMaker.html#a55ad765b425243cfb424ecc759a1918a">More...</a><br /></td></tr>
<tr class="separator:a55ad765b425243cfb424ecc759a1918a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42e2fec65ac346ce588911219a121d9"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#ac42e2fec65ac346ce588911219a121d9">~ShipFieldMaker</a> ()</td></tr>
<tr class="memdesc:ac42e2fec65ac346ce588911219a121d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="classShipFieldMaker.html#ac42e2fec65ac346ce588911219a121d9">More...</a><br /></td></tr>
<tr class="separator:ac42e2fec65ac346ce588911219a121d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf937564fc0ec2b7acc56f01d0865b59"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#abf937564fc0ec2b7acc56f01d0865b59">Construct</a> ()</td></tr>
<tr class="memdesc:abf937564fc0ec2b7acc56f01d0865b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set-up all local and regional fields and assign them to volumes.  <a href="classShipFieldMaker.html#abf937564fc0ec2b7acc56f01d0865b59">More...</a><br /></td></tr>
<tr class="separator:abf937564fc0ec2b7acc56f01d0865b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701024f675b38d7077540377f371d631"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a701024f675b38d7077540377f371d631">readInputFile</a> (const std::string &amp;inputFile)</td></tr>
<tr class="memdesc:a701024f675b38d7077540377f371d631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read an input file to define fields and associated volumes.  <a href="classShipFieldMaker.html#a701024f675b38d7077540377f371d631">More...</a><br /></td></tr>
<tr class="separator:a701024f675b38d7077540377f371d631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab664b64d707783cf30521c2ac9bd5192"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#ab664b64d707783cf30521c2ac9bd5192">defineUniform</a> (const TString &amp;name, const TVector3 &amp;BVector)</td></tr>
<tr class="memdesc:ab664b64d707783cf30521c2ac9bd5192"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a uniform field.  <a href="classShipFieldMaker.html#ab664b64d707783cf30521c2ac9bd5192">More...</a><br /></td></tr>
<tr class="separator:ab664b64d707783cf30521c2ac9bd5192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11b9703aa051c2cb86ef40aed49d19a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#ae11b9703aa051c2cb86ef40aed49d19a">defineConstant</a> (const TString &amp;name, const TVector2 &amp;xRange, const TVector2 &amp;yRange, const TVector2 &amp;zRange, const TVector3 &amp;BVector)</td></tr>
<tr class="memdesc:ae11b9703aa051c2cb86ef40aed49d19a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a constant field.  <a href="classShipFieldMaker.html#ae11b9703aa051c2cb86ef40aed49d19a">More...</a><br /></td></tr>
<tr class="separator:ae11b9703aa051c2cb86ef40aed49d19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4378f3a215dff42795254e8ae6a5c8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#ad4378f3a215dff42795254e8ae6a5c8e">defineBell</a> (const TString &amp;name, Double_t BPeak, Double_t zMiddle, Int_t orient=1, Double_t tubeR=500.0, Double_t xy=0.0, Double_t z=0.0, Double_t L=0.0)</td></tr>
<tr class="memdesc:ad4378f3a215dff42795254e8ae6a5c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a Bell field.  <a href="classShipFieldMaker.html#ad4378f3a215dff42795254e8ae6a5c8e">More...</a><br /></td></tr>
<tr class="separator:ad4378f3a215dff42795254e8ae6a5c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a845f73b3c26e2b5c660bcce4dbef4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a0a845f73b3c26e2b5c660bcce4dbef4e">defineFieldMap</a> (const TString &amp;name, const TString &amp;mapFileName, const TVector3 &amp;localCentre=TVector3(0.0, 0.0, 0.0), const TVector3 &amp;localAngles=TVector3(0.0, 0.0, 0.0), Bool_t useSymmetry=kFALSE)</td></tr>
<tr class="separator:a0a845f73b3c26e2b5c660bcce4dbef4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7bda3f864f4850aeff421b72693531a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#ad7bda3f864f4850aeff421b72693531a">defineFieldMapCopy</a> (const TString &amp;name, const TString &amp;mapNameToCopy, const TVector3 &amp;translation, const TVector3 &amp;eulerAngles=TVector3(0.0, 0.0, 0.0))</td></tr>
<tr class="memdesc:ad7bda3f864f4850aeff421b72693531a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a copy of a field map with a coordinate translation and optional rotation.  <a href="classShipFieldMaker.html#ad7bda3f864f4850aeff421b72693531a">More...</a><br /></td></tr>
<tr class="separator:ad7bda3f864f4850aeff421b72693531a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ecd681a7649f6106e96711b7124efab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a1ecd681a7649f6106e96711b7124efab">defineComposite</a> (const TString &amp;name, const TString &amp;field1Name, const TString &amp;field2Name, const TString &amp;field3Name=&quot;&quot;, const TString &amp;field4Name=&quot;&quot;)</td></tr>
<tr class="memdesc:a1ecd681a7649f6106e96711b7124efab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a composite field from up to four fields.  <a href="classShipFieldMaker.html#a1ecd681a7649f6106e96711b7124efab">More...</a><br /></td></tr>
<tr class="separator:a1ecd681a7649f6106e96711b7124efab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0527910b4550556eff12a66984ee06ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a0527910b4550556eff12a66984ee06ff">defineComposite</a> (const TString &amp;name, std::vector&lt; TString &gt; fieldNames)</td></tr>
<tr class="memdesc:a0527910b4550556eff12a66984ee06ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a composite field from a vector of field names.  <a href="classShipFieldMaker.html#a0527910b4550556eff12a66984ee06ff">More...</a><br /></td></tr>
<tr class="separator:a0527910b4550556eff12a66984ee06ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd099f27be8e0c6b489038b1b4ce681"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a8dd099f27be8e0c6b489038b1b4ce681">defineGlobalField</a> (const TString &amp;field1Name, const TString &amp;field2Name=&quot;&quot;, const TString &amp;field3Name=&quot;&quot;, const TString &amp;field4Name=&quot;&quot;)</td></tr>
<tr class="memdesc:a8dd099f27be8e0c6b489038b1b4ce681"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a composite field from up to four fields.  <a href="classShipFieldMaker.html#a8dd099f27be8e0c6b489038b1b4ce681">More...</a><br /></td></tr>
<tr class="separator:a8dd099f27be8e0c6b489038b1b4ce681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac217b4137a8b646b96d1bc6b25341399"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#ac217b4137a8b646b96d1bc6b25341399">defineGlobalField</a> (std::vector&lt; TString &gt; fieldNames)</td></tr>
<tr class="memdesc:ac217b4137a8b646b96d1bc6b25341399"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the Global field using a vector of field names.  <a href="classShipFieldMaker.html#ac217b4137a8b646b96d1bc6b25341399">More...</a><br /></td></tr>
<tr class="separator:ac217b4137a8b646b96d1bc6b25341399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef31f2695b538e04b00db829f7895e57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#aef31f2695b538e04b00db829f7895e57">defineRegionField</a> (const TString &amp;volName, const TString &amp;fieldName, Double_t scale=1.0)</td></tr>
<tr class="memdesc:aef31f2695b538e04b00db829f7895e57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a regional (local + global) field and volume pairing.  <a href="classShipFieldMaker.html#aef31f2695b538e04b00db829f7895e57">More...</a><br /></td></tr>
<tr class="separator:aef31f2695b538e04b00db829f7895e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da15b26eea1a0d7eb588e2689c87e99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a9da15b26eea1a0d7eb588e2689c87e99">defineLocalField</a> (const TString &amp;volName, const TString &amp;fieldName, Double_t scale=1.0)</td></tr>
<tr class="memdesc:a9da15b26eea1a0d7eb588e2689c87e99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a localised field and volume pairing.  <a href="classShipFieldMaker.html#a9da15b26eea1a0d7eb588e2689c87e99">More...</a><br /></td></tr>
<tr class="separator:a9da15b26eea1a0d7eb588e2689c87e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d9dfa8ec297bd257b128edad3f69f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classShipCompField.html">ShipCompField</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a83d9dfa8ec297bd257b128edad3f69f5">getGlobalField</a> () const</td></tr>
<tr class="memdesc:a83d9dfa8ec297bd257b128edad3f69f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the global magnetic field.  <a href="classShipFieldMaker.html#a83d9dfa8ec297bd257b128edad3f69f5">More...</a><br /></td></tr>
<tr class="separator:a83d9dfa8ec297bd257b128edad3f69f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accaa26ec666c64a954749a452268730d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classShipFieldMaker.html#aa1e6a61468cf4047a817ebba21dca3ac">SFMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#accaa26ec666c64a954749a452268730d">getAllFields</a> () const</td></tr>
<tr class="memdesc:accaa26ec666c64a954749a452268730d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the map storing volume names and their associated local magnetic fields.  <a href="classShipFieldMaker.html#accaa26ec666c64a954749a452268730d">More...</a><br /></td></tr>
<tr class="separator:accaa26ec666c64a954749a452268730d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a899a97b15a3d1fd31046b37894ff2ea2"><td class="memItemLeft" align="right" valign="top">TVirtualMagField *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a899a97b15a3d1fd31046b37894ff2ea2">getVolumeField</a> (const TString &amp;volName) const</td></tr>
<tr class="memdesc:a899a97b15a3d1fd31046b37894ff2ea2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the magnetic field for the given volume.  <a href="classShipFieldMaker.html#a899a97b15a3d1fd31046b37894ff2ea2">More...</a><br /></td></tr>
<tr class="separator:a899a97b15a3d1fd31046b37894ff2ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a6b35bad80d92efa102b9427f615e0"><td class="memItemLeft" align="right" valign="top">Bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a17a6b35bad80d92efa102b9427f615e0">gotField</a> (const TString &amp;name) const</td></tr>
<tr class="memdesc:a17a6b35bad80d92efa102b9427f615e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if we have a field stored with the given name name.  <a href="classShipFieldMaker.html#a17a6b35bad80d92efa102b9427f615e0">More...</a><br /></td></tr>
<tr class="separator:a17a6b35bad80d92efa102b9427f615e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536ddce150f887c5434c788216bf00cd"><td class="memItemLeft" align="right" valign="top">TVirtualMagField *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a536ddce150f887c5434c788216bf00cd">getField</a> (const TString &amp;name) const</td></tr>
<tr class="memdesc:a536ddce150f887c5434c788216bf00cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the field stored with the given name name.  <a href="classShipFieldMaker.html#a536ddce150f887c5434c788216bf00cd">More...</a><br /></td></tr>
<tr class="separator:a536ddce150f887c5434c788216bf00cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a698a413d7c12014fb5899e4671ffd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a7a698a413d7c12014fb5899e4671ffd6">plotXYField</a> (const TVector3 &amp;xAxis, const TVector3 &amp;yAxis, const std::string &amp;plotFile) const</td></tr>
<tr class="memdesc:a7a698a413d7c12014fb5899e4671ffd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot the magnetic field in x-y plane.  <a href="classShipFieldMaker.html#a7a698a413d7c12014fb5899e4671ffd6">More...</a><br /></td></tr>
<tr class="separator:a7a698a413d7c12014fb5899e4671ffd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaef20e541cc1c3969a633295e84d07e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#aeaef20e541cc1c3969a633295e84d07e">plotZXField</a> (const TVector3 &amp;zAxis, const TVector3 &amp;xAxis, const std::string &amp;plotFile) const</td></tr>
<tr class="memdesc:aeaef20e541cc1c3969a633295e84d07e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot the magnetic field in z-x plane.  <a href="classShipFieldMaker.html#aeaef20e541cc1c3969a633295e84d07e">More...</a><br /></td></tr>
<tr class="separator:aeaef20e541cc1c3969a633295e84d07e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542d34a08c9a1ca6503400929f41f28f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a542d34a08c9a1ca6503400929f41f28f">plotZYField</a> (const TVector3 &amp;zAxis, const TVector3 &amp;yAxis, const std::string &amp;plotFile) const</td></tr>
<tr class="memdesc:a542d34a08c9a1ca6503400929f41f28f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot the magnetic field in z-y plane.  <a href="classShipFieldMaker.html#a542d34a08c9a1ca6503400929f41f28f">More...</a><br /></td></tr>
<tr class="separator:a542d34a08c9a1ca6503400929f41f28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2665b83c6717fb3d84359146dfbcf33d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a2665b83c6717fb3d84359146dfbcf33d">plotField</a> (Int_t type, const TVector3 &amp;xAxis, const TVector3 &amp;yAxis, const std::string &amp;plotFile) const</td></tr>
<tr class="memdesc:a2665b83c6717fb3d84359146dfbcf33d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot the magnetic field in "x-y" plane.  <a href="classShipFieldMaker.html#a2665b83c6717fb3d84359146dfbcf33d">More...</a><br /></td></tr>
<tr class="separator:a2665b83c6717fb3d84359146dfbcf33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4163c17204229a088a6c5ae3345f3fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#af4163c17204229a088a6c5ae3345f3fe">generateFieldMap</a> (TString fileName, const float step=2.5, const float xRange=179, const float yRange=317, const float zRange=1515.5, const float zShift=-4996)</td></tr>
<tr class="separator:af4163c17204229a088a6c5ae3345f3fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a241645b78a1a57f8f33b5f09024174bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a241645b78a1a57f8f33b5f09024174bc">ClassDef</a> (<a class="el" href="classShipFieldMaker.html">ShipFieldMaker</a>, 1)</td></tr>
<tr class="memdesc:a241645b78a1a57f8f33b5f09024174bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate fieldMap csv file in the given region.  <a href="classShipFieldMaker.html#a241645b78a1a57f8f33b5f09024174bc">More...</a><br /></td></tr>
<tr class="separator:a241645b78a1a57f8f33b5f09024174bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac1801a74f4a502f9998ebf6f445f256c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#ac1801a74f4a502f9998ebf6f445f256c">defineUniform</a> (const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;inputLine)</td></tr>
<tr class="memdesc:ac1801a74f4a502f9998ebf6f445f256c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a uniform field based on information from the inputLine.  <a href="classShipFieldMaker.html#ac1801a74f4a502f9998ebf6f445f256c">More...</a><br /></td></tr>
<tr class="separator:ac1801a74f4a502f9998ebf6f445f256c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae02c4c4a19cf3dfcbdbacbed23aad2b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#ae02c4c4a19cf3dfcbdbacbed23aad2b0">defineConstant</a> (const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;inputLine)</td></tr>
<tr class="memdesc:ae02c4c4a19cf3dfcbdbacbed23aad2b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a constant field based on information from the inputLine.  <a href="classShipFieldMaker.html#ae02c4c4a19cf3dfcbdbacbed23aad2b0">More...</a><br /></td></tr>
<tr class="separator:ae02c4c4a19cf3dfcbdbacbed23aad2b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ff3dcbc4d8b9f5ec3082940c94cc6fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a9ff3dcbc4d8b9f5ec3082940c94cc6fa">defineBell</a> (const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;inputLine)</td></tr>
<tr class="memdesc:a9ff3dcbc4d8b9f5ec3082940c94cc6fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a Bell field based on information from the inputLine.  <a href="classShipFieldMaker.html#a9ff3dcbc4d8b9f5ec3082940c94cc6fa">More...</a><br /></td></tr>
<tr class="separator:a9ff3dcbc4d8b9f5ec3082940c94cc6fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf3b3aa3a47860e97f72f3c028ba3a30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#aaf3b3aa3a47860e97f72f3c028ba3a30">defineFieldMap</a> (const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;inputLine, Bool_t useSymmetry=kFALSE)</td></tr>
<tr class="memdesc:aaf3b3aa3a47860e97f72f3c028ba3a30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a field map based on information from the inputLine.  <a href="classShipFieldMaker.html#aaf3b3aa3a47860e97f72f3c028ba3a30">More...</a><br /></td></tr>
<tr class="separator:aaf3b3aa3a47860e97f72f3c028ba3a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e331f6a407033d03face9ea9ab79f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#aa9e331f6a407033d03face9ea9ab79f5">defineFieldMapCopy</a> (const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;inputLine)</td></tr>
<tr class="memdesc:aa9e331f6a407033d03face9ea9ab79f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a (translated) copy of a field map based on information from the inputLine.  <a href="classShipFieldMaker.html#aa9e331f6a407033d03face9ea9ab79f5">More...</a><br /></td></tr>
<tr class="separator:aa9e331f6a407033d03face9ea9ab79f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfbe7d555af8b29e81e58674bf768c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a9cfbe7d555af8b29e81e58674bf768c1">defineComposite</a> (const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;inputLine)</td></tr>
<tr class="memdesc:a9cfbe7d555af8b29e81e58674bf768c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a composite field based on information from the inputLine.  <a href="classShipFieldMaker.html#a9cfbe7d555af8b29e81e58674bf768c1">More...</a><br /></td></tr>
<tr class="separator:a9cfbe7d555af8b29e81e58674bf768c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1285e47407cd3a8dd8e6d7f9cd9acd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#aa1285e47407cd3a8dd8e6d7f9cd9acd6">defineGlobalField</a> (const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;inputLine)</td></tr>
<tr class="memdesc:aa1285e47407cd3a8dd8e6d7f9cd9acd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the global field based on information from the inputLine.  <a href="classShipFieldMaker.html#aa1285e47407cd3a8dd8e6d7f9cd9acd6">More...</a><br /></td></tr>
<tr class="separator:aa1285e47407cd3a8dd8e6d7f9cd9acd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bce0db7ef2f464add2086488ace8d2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a9bce0db7ef2f464add2086488ace8d2c">defineRegionField</a> (const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;inputLine)</td></tr>
<tr class="memdesc:a9bce0db7ef2f464add2086488ace8d2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a regional (local+global) field based on the info from the inputLine.  <a href="classShipFieldMaker.html#a9bce0db7ef2f464add2086488ace8d2c">More...</a><br /></td></tr>
<tr class="separator:a9bce0db7ef2f464add2086488ace8d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf44333a99dd882247caa811db06e56d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#aaf44333a99dd882247caa811db06e56d">setAllRegionFields</a> ()</td></tr>
<tr class="separator:aaf44333a99dd882247caa811db06e56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa91385b42a28a955456c64b358a2c96d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#aa91385b42a28a955456c64b358a2c96d">defineLocalField</a> (const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;inputLine)</td></tr>
<tr class="memdesc:aa91385b42a28a955456c64b358a2c96d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a local field only based on information from the inputLine.  <a href="classShipFieldMaker.html#aa91385b42a28a955456c64b358a2c96d">More...</a><br /></td></tr>
<tr class="separator:aa91385b42a28a955456c64b358a2c96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea890712c5e87cf4a778197ae31e165c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#aea890712c5e87cf4a778197ae31e165c">checkLocalFieldMap</a> (TVirtualMagField *&amp;localField, const TString &amp;volName, Double_t scale)</td></tr>
<tr class="memdesc:aea890712c5e87cf4a778197ae31e165c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if we have a local field map and store the volume global transformation.  <a href="classShipFieldMaker.html#aea890712c5e87cf4a778197ae31e165c">More...</a><br /></td></tr>
<tr class="separator:aea890712c5e87cf4a778197ae31e165c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a803162b64774be4b8d5b3ca5ecaff823"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a803162b64774be4b8d5b3ca5ecaff823">setAllLocalFields</a> ()</td></tr>
<tr class="separator:a803162b64774be4b8d5b3ca5ecaff823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7d9c110249730e4a725e374c321aee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a6e7d9c110249730e4a725e374c321aee">getTransformation</a> (const TString &amp;volName, <a class="el" href="structShipFieldMaker_1_1transformInfo.html">transformInfo</a> &amp;theInfo)</td></tr>
<tr class="memdesc:a6e7d9c110249730e4a725e374c321aee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the transformation matrix for the volume position and orientation.  <a href="classShipFieldMaker.html#a6e7d9c110249730e4a725e374c321aee">More...</a><br /></td></tr>
<tr class="separator:a6e7d9c110249730e4a725e374c321aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d779389098e85a4055b5f2da7ed02e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a1d779389098e85a4055b5f2da7ed02e9">findNode</a> (TGeoVolume *aVolume, const TString &amp;volName)</td></tr>
<tr class="memdesc:a1d779389098e85a4055b5f2da7ed02e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the current geometry node pointer that matches the required volume name.  <a href="classShipFieldMaker.html#a1d779389098e85a4055b5f2da7ed02e9">More...</a><br /></td></tr>
<tr class="separator:a1d779389098e85a4055b5f2da7ed02e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae27cc8750c597b88d37e30278179c353"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#ae27cc8750c597b88d37e30278179c353">splitString</a> (std::string &amp;theString, std::string &amp;splitter) const</td></tr>
<tr class="memdesc:ae27cc8750c597b88d37e30278179c353"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split a string.  <a href="classShipFieldMaker.html#ae27cc8750c597b88d37e30278179c353">More...</a><br /></td></tr>
<tr class="separator:ae27cc8750c597b88d37e30278179c353"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5a5f81e0a3cef2743365db927769912b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classShipCompField.html">ShipCompField</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a></td></tr>
<tr class="memdesc:a5a5f81e0a3cef2743365db927769912b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The global magnetic field.  <a href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">More...</a><br /></td></tr>
<tr class="separator:a5a5f81e0a3cef2743365db927769912b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40345310eef6cda554678945e52a7be6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classShipFieldMaker.html#aa1e6a61468cf4047a817ebba21dca3ac">SFMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a></td></tr>
<tr class="memdesc:a40345310eef6cda554678945e52a7be6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The map storing all created magnetic fields.  <a href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">More...</a><br /></td></tr>
<tr class="separator:a40345310eef6cda554678945e52a7be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610485fbe459382bd59d6025483cc2eb"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structShipFieldMaker_1_1fieldInfo.html">fieldInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a610485fbe459382bd59d6025483cc2eb">regionInfo_</a></td></tr>
<tr class="memdesc:a610485fbe459382bd59d6025483cc2eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of <a class="el" href="structShipFieldMaker_1_1fieldInfo.html" title="Structure to hold volume name, field name and field scaling factor.">fieldInfo</a> for regional fields.  <a href="classShipFieldMaker.html#a610485fbe459382bd59d6025483cc2eb">More...</a><br /></td></tr>
<tr class="separator:a610485fbe459382bd59d6025483cc2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c5203ee14b827b04a5a7f0c6b000c5d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structShipFieldMaker_1_1fieldInfo.html">fieldInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a0c5203ee14b827b04a5a7f0c6b000c5d">localInfo_</a></td></tr>
<tr class="memdesc:a0c5203ee14b827b04a5a7f0c6b000c5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of <a class="el" href="structShipFieldMaker_1_1fieldInfo.html" title="Structure to hold volume name, field name and field scaling factor.">fieldInfo</a> for local fields.  <a href="classShipFieldMaker.html#a0c5203ee14b827b04a5a7f0c6b000c5d">More...</a><br /></td></tr>
<tr class="separator:a0c5203ee14b827b04a5a7f0c6b000c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6ea6ea385a201195ce579e19175072a"><td class="memItemLeft" align="right" valign="top">Bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a></td></tr>
<tr class="memdesc:aa6ea6ea385a201195ce579e19175072a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verbose boolean.  <a href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">More...</a><br /></td></tr>
<tr class="separator:aa6ea6ea385a201195ce579e19175072a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b97bf8ceebc3cc4f8d02eb72adf245"><td class="memItemLeft" align="right" valign="top">Double_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a></td></tr>
<tr class="memdesc:a86b97bf8ceebc3cc4f8d02eb72adf245"><td class="mdescLeft">&#160;</td><td class="mdescRight">Double converting Tesla to kiloGauss (for VMC/FairRoot B field units)  <a href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">More...</a><br /></td></tr>
<tr class="separator:a86b97bf8ceebc3cc4f8d02eb72adf245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7216f114250b997e81bea9b25f7c93c4"><td class="memItemLeft" align="right" valign="top">TGeoNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a7216f114250b997e81bea9b25f7c93c4">theNode_</a></td></tr>
<tr class="memdesc:a7216f114250b997e81bea9b25f7c93c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current volume node: used for finding volume transformations.  <a href="classShipFieldMaker.html#a7216f114250b997e81bea9b25f7c93c4">More...</a><br /></td></tr>
<tr class="separator:a7216f114250b997e81bea9b25f7c93c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e87ea764b4ee5b75c44f3fb60a643e6"><td class="memItemLeft" align="right" valign="top">Bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShipFieldMaker.html#a3e87ea764b4ee5b75c44f3fb60a643e6">gotNode_</a></td></tr>
<tr class="memdesc:a3e87ea764b4ee5b75c44f3fb60a643e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean to specify if we have found the volume node we need.  <a href="classShipFieldMaker.html#a3e87ea764b4ee5b75c44f3fb60a643e6">More...</a><br /></td></tr>
<tr class="separator:a3e87ea764b4ee5b75c44f3fb60a643e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Creates various magnetic fields and assigns them to geometry regions. </p>
<p>The internal units here are cm for distances and Tesla for fields. Geant4 units for distance are mm, B fields = 0.001 megaVolt*ns/mm^2 (1 Tesla). VMC units require cm and kGauss (0.1 Tesla). Internally, use cm and Tesla, so keep distances unchanged but multiply B fields by 10 (1 Tesla = 10 kGauss)</p>
<dl class="section author"><dt>Author</dt><dd>John Back <a href="#" onclick="location.href='mai'+'lto:'+'J.J'+'.B'+'ack'+'@w'+'arw'+'ic'+'k.a'+'c.'+'uk'; return false;">J.J.B<span style="display: none;">.nosp@m.</span>ack@<span style="display: none;">.nosp@m.</span>warwi<span style="display: none;">.nosp@m.</span>ck.a<span style="display: none;">.nosp@m.</span>c.uk</a></dd>
<dd>
John Back <a href="#" onclick="location.href='mai'+'lto:'+'J.J'+'.B'+'ack'+'@w'+'arw'+'ic'+'k.a'+'c.'+'uk'; return false;">J.J.B<span style="display: none;">.nosp@m.</span>ack@<span style="display: none;">.nosp@m.</span>warwi<span style="display: none;">.nosp@m.</span>ck.a<span style="display: none;">.nosp@m.</span>c.uk</a></dd></dl>
<p>This inherits from TG4VUserPostDetConstruction and overloads the Contruct() function so that the VMC (re)assigns the G4 magnetic fields to volumes using the input configuration file defined in this class constructor, together with the code below used in the addVMCFields function in <a class="el" href="geomGeant4_8py.html">python/geomGeant4.py</a>:</p>
<p>geom = ROOT.TG4GeometryManager.Instance() geom.SetUserPostDetConstruction(fieldMaker) geom.ConstructSDandField() </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00035">35</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aa1e6a61468cf4047a817ebba21dca3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1e6a61468cf4047a817ebba21dca3ac">&#9670;&nbsp;</a></span>SFMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;TString, TVirtualMagField*&gt; <a class="el" href="classShipFieldMaker.html#aa1e6a61468cf4047a817ebba21dca3ac">ShipFieldMaker::SFMap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef for a TString-TVirtualMagField* map. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00047">47</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>

</div>
</div>
<a id="a6704172970d0c5a787ca4dc5a44aaf13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6704172970d0c5a787ca4dc5a44aaf13">&#9670;&nbsp;</a></span>stringVect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;std::string&gt; <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">ShipFieldMaker::stringVect</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef of a vector of strings. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00050">50</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a55ad765b425243cfb424ecc759a1918a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55ad765b425243cfb424ecc759a1918a">&#9670;&nbsp;</a></span>ShipFieldMaker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ShipFieldMaker::ShipFieldMaker </td>
          <td>(</td>
          <td class="paramtype">Bool_t&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>kFALSE</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00037">37</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                                             :</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    TG4VUserPostDetConstruction(),</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a>(0),</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>(),</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="classShipFieldMaker.html#a610485fbe459382bd59d6025483cc2eb">regionInfo_</a>(),</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classShipFieldMaker.html#a0c5203ee14b827b04a5a7f0c6b000c5d">localInfo_</a>(),</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>(<a class="code" href="namespaceeventDisplay.html#ac3640904efec4904e652932a0c7da2e5">verbose</a>),</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>(10.0), <span class="comment">// To convert T to kGauss for VMC/FairRoot</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classShipFieldMaker.html#a7216f114250b997e81bea9b25f7c93c4">theNode_</a>(0),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classShipFieldMaker.html#a3e87ea764b4ee5b75c44f3fb60a643e6">gotNode_</a>(kFALSE)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_a0c5203ee14b827b04a5a7f0c6b000c5d"><div class="ttname"><a href="classShipFieldMaker.html#a0c5203ee14b827b04a5a7f0c6b000c5d">ShipFieldMaker::localInfo_</a></div><div class="ttdeci">std::vector&lt; fieldInfo &gt; localInfo_</div><div class="ttdoc">Vector of fieldInfo for local fields.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8h_source.html#l00383">ShipFieldMaker.h:383</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_a3e87ea764b4ee5b75c44f3fb60a643e6"><div class="ttname"><a href="classShipFieldMaker.html#a3e87ea764b4ee5b75c44f3fb60a643e6">ShipFieldMaker::gotNode_</a></div><div class="ttdeci">Bool_t gotNode_</div><div class="ttdoc">Boolean to specify if we have found the volume node we need.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8h_source.html#l00395">ShipFieldMaker.h:395</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_a40345310eef6cda554678945e52a7be6"><div class="ttname"><a href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">ShipFieldMaker::theFields_</a></div><div class="ttdeci">SFMap theFields_</div><div class="ttdoc">The map storing all created magnetic fields.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8h_source.html#l00377">ShipFieldMaker.h:377</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_a5a5f81e0a3cef2743365db927769912b"><div class="ttname"><a href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">ShipFieldMaker::globalField_</a></div><div class="ttdeci">ShipCompField * globalField_</div><div class="ttdoc">The global magnetic field.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8h_source.html#l00374">ShipFieldMaker.h:374</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_a610485fbe459382bd59d6025483cc2eb"><div class="ttname"><a href="classShipFieldMaker.html#a610485fbe459382bd59d6025483cc2eb">ShipFieldMaker::regionInfo_</a></div><div class="ttdeci">std::vector&lt; fieldInfo &gt; regionInfo_</div><div class="ttdoc">Vector of fieldInfo for regional fields.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8h_source.html#l00380">ShipFieldMaker.h:380</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_a7216f114250b997e81bea9b25f7c93c4"><div class="ttname"><a href="classShipFieldMaker.html#a7216f114250b997e81bea9b25f7c93c4">ShipFieldMaker::theNode_</a></div><div class="ttdeci">TGeoNode * theNode_</div><div class="ttdoc">The current volume node: used for finding volume transformations.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8h_source.html#l00392">ShipFieldMaker.h:392</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_a86b97bf8ceebc3cc4f8d02eb72adf245"><div class="ttname"><a href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">ShipFieldMaker::Tesla_</a></div><div class="ttdeci">Double_t Tesla_</div><div class="ttdoc">Double converting Tesla to kiloGauss (for VMC/FairRoot B field units)</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8h_source.html#l00389">ShipFieldMaker.h:389</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_aa6ea6ea385a201195ce579e19175072a"><div class="ttname"><a href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">ShipFieldMaker::verbose_</a></div><div class="ttdeci">Bool_t verbose_</div><div class="ttdoc">Verbose boolean.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8h_source.html#l00386">ShipFieldMaker.h:386</a></div></div>
<div class="ttc" id="anamespaceeventDisplay_html_ac3640904efec4904e652932a0c7da2e5"><div class="ttname"><a href="namespaceeventDisplay.html#ac3640904efec4904e652932a0c7da2e5">eventDisplay.verbose</a></div><div class="ttdeci">int verbose</div><div class="ttdef"><b>Definition:</b> <a href="eventDisplay_8py_source.html#l01320">eventDisplay.py:1320</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac42e2fec65ac346ce588911219a121d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac42e2fec65ac346ce588911219a121d9">&#9670;&nbsp;</a></span>~ShipFieldMaker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ShipFieldMaker::~ShipFieldMaker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00050">50</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// Delete the various magnetic fields</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    SFMap::iterator iter;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">for</span> (iter = <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>.begin(); iter != <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>.end(); ++iter) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">delete</span> iter-&gt;second;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>.clear();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aea890712c5e87cf4a778197ae31e165c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea890712c5e87cf4a778197ae31e165c">&#9670;&nbsp;</a></span>checkLocalFieldMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::checkLocalFieldMap </td>
          <td>(</td>
          <td class="paramtype">TVirtualMagField *&amp;&#160;</td>
          <td class="paramname"><em>localField</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>volName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Double_t&#160;</td>
          <td class="paramname"><em>scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if we have a local field map and store the volume global transformation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">localField</td><td>The pointer (reference) to the field map (which may be updated) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">volName</td><td>The name of the volume (which is used to find the transformation) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale</td><td>The B field magnitude scaling factor </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00951">951</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                                    {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// We assume that local field maps are stored using co-ordinates centred</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="comment">// on the volume. However, GetField() uses global co-ordinates, so we need</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="comment">// to find the global volume transformation (translation and rotation) so</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// that we can find the equivalent local co-ordinates. This also means that each</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="comment">// local volume needs to have its own lightweight field map copy, where we</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="comment">// reuse the field map data but just change the co-ordinate transformation info</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>* mapField = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>*<span class="keyword">&gt;</span>(localField);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">if</span> (mapField) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    TString fieldName(mapField-&gt;GetName());</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    TString localName(fieldName); localName += volName;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Checking local field map &quot;</span>&lt;&lt;fieldName</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;             &lt;&lt;<span class="stringliteral">&quot; co-ord transformation for volume &quot;</span>&lt;&lt;volName&lt;&lt;std::endl;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="comment">// Check if we already have the local map to avoid duplication</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>* localMap = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="classShipFieldMaker.html#a536ddce150f887c5434c788216bf00cd">getField</a>(localName));</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (!localMap &amp;&amp; volName.Length() &gt; 0) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="comment">// Get the volume and its associate global transformation</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        TString volName1(volName); volName1 += <span class="stringliteral">&quot;_1&quot;</span>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        transformInfo theInfo;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        this-&gt;<a class="code" href="classShipFieldMaker.html#a6e7d9c110249730e4a725e374c321aee">getTransformation</a>(volName1, theInfo);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="comment">// The original field map may have defined its own translation and rotation.</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="comment">// Apply this before the volume global transformation</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        Double_t origX0 = mapField-&gt;<a class="code" href="classShipBFieldMap.html#ad7dd58847eb0bff1eea11ede5e0eea81">GetXOffset</a>();</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        Double_t origY0 = mapField-&gt;<a class="code" href="classShipBFieldMap.html#a258c7e0e8b3fb6c301a3c07b6ab7f76f">GetYOffset</a>();</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        Double_t origZ0 = mapField-&gt;<a class="code" href="classShipBFieldMap.html#afd3eebaf079b2685fdd9479438a16a47">GetZOffset</a>();</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        TGeoTranslation origTrans(<span class="stringliteral">&quot;origTrans&quot;</span>, origX0, origY0, origZ0);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        Double_t origPhi = mapField-&gt;<a class="code" href="classShipBFieldMap.html#ac05db14e31ba77ee824cea34e561ac09">GetPhi</a>();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        Double_t origTheta = mapField-&gt;<a class="code" href="classShipBFieldMap.html#a3e0120b346a6e930cf8ddb73a7276df7">GetTheta</a>();</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        Double_t origPsi = mapField-&gt;<a class="code" href="classShipBFieldMap.html#a9a665a3afe4a8098fae3e8f9870c4f09">GetPsi</a>();</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        TGeoRotation origRot(<span class="stringliteral">&quot;origRot&quot;</span>, origPhi, origTheta, origPsi);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        TGeoCombiTrans origComb(origTrans, origRot);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;The original field map transformation:&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        origComb.Print();</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        TGeoTranslation newTrans(<span class="stringliteral">&quot;newTrans&quot;</span>, theInfo.x0_, theInfo.y0_, theInfo.z0_);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        TGeoRotation newRot(<span class="stringliteral">&quot;newRot&quot;</span>, theInfo.phi_, theInfo.theta_, theInfo.psi_);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        TGeoCombiTrans newComb(newTrans, newRot);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;The volume transformation:&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        newComb.Print();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="comment">// The full transformation</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        newComb = newComb*origComb;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;The combined transformation:&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        newComb.Print();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        }</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="comment">// Update transformation info</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="keyword">const</span> Double_t* newTransArray = newComb.GetTranslation();</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        theInfo.x0_ = newTransArray[0];</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        theInfo.y0_ = newTransArray[1];</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        theInfo.z0_ = newTransArray[2];</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="keyword">const</span> TGeoRotation* fullRot = newComb.GetRotation();</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="keywordflow">if</span> (fullRot) {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        fullRot-&gt;GetAngles(theInfo.phi_, theInfo.theta_, theInfo.psi_);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="comment">// Create a lightweight copy, reusing the map data but just updating</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <span class="comment">// the global transformation</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Creating field map copy for &quot;</span>&lt;&lt;localName</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;             &lt;&lt;<span class="stringliteral">&quot; based on &quot;</span>&lt;&lt;mapField-&gt;GetName()</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;             &lt;&lt;<span class="stringliteral">&quot;: x0 = &quot;</span>&lt;&lt;theInfo.x0_&lt;&lt;<span class="stringliteral">&quot;, y0 = &quot;</span>&lt;&lt;theInfo.y0_</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;             &lt;&lt;<span class="stringliteral">&quot;, z0 = &quot;</span>&lt;&lt;theInfo.z0_&lt;&lt;<span class="stringliteral">&quot;, phi = &quot;</span>&lt;&lt;theInfo.<a class="code" href="classShipBFieldMap.html#adb382221b8f751522035674bbc15a340">phi_</a></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;             &lt;&lt;<span class="stringliteral">&quot;, theta = &quot;</span>&lt;&lt;theInfo.theta_</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;             &lt;&lt;<span class="stringliteral">&quot;, psi = &quot;</span>&lt;&lt;theInfo.psi_&lt;&lt;<span class="stringliteral">&quot;, scale = &quot;</span>&lt;&lt;<a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;             &lt;&lt;<span class="stringliteral">&quot; and symmetry = &quot;</span>&lt;&lt;mapField-&gt;<a class="code" href="classShipBFieldMap.html#a23fc5866bcd2e4009b99bc3824f5ee48">HasSymmetry</a>()&lt;&lt;std::endl;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        localMap = <span class="keyword">new</span> <a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>(localName.Data(), *mapField,</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                     theInfo.x0_, theInfo.y0_, theInfo.z0_,</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                     theInfo.phi_, theInfo.theta_, theInfo.psi_, <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="comment">// Keep track that we have created this field pointer</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>[localName] = localMap;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="comment">// Set the localField pointer to use the (new or already existing) localMap pointer</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    localField = localMap;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;}</div>
<div class="ttc" id="aclassShipBFieldMap_html"><div class="ttname"><a href="classShipBFieldMap.html">ShipBFieldMap</a></div><div class="ttdoc">Class that defines a (3d) magnetic field map (distances in cm, fields in tesla)</div><div class="ttdef"><b>Definition:</b> <a href="ShipBFieldMap_8h_source.html#l00016">ShipBFieldMap.h:17</a></div></div>
<div class="ttc" id="aclassShipBFieldMap_html_a23fc5866bcd2e4009b99bc3824f5ee48"><div class="ttname"><a href="classShipBFieldMap.html#a23fc5866bcd2e4009b99bc3824f5ee48">ShipBFieldMap::HasSymmetry</a></div><div class="ttdeci">Bool_t HasSymmetry() const</div><div class="ttdoc">Get the boolean flag to specify if we have quadrant symmetry.</div><div class="ttdef"><b>Definition:</b> <a href="ShipBFieldMap_8h_source.html#l00274">ShipBFieldMap.h:274</a></div></div>
<div class="ttc" id="aclassShipBFieldMap_html_a258c7e0e8b3fb6c301a3c07b6ab7f76f"><div class="ttname"><a href="classShipBFieldMap.html#a258c7e0e8b3fb6c301a3c07b6ab7f76f">ShipBFieldMap::GetYOffset</a></div><div class="ttdeci">Float_t GetYOffset() const</div><div class="ttdoc">Get the y offset co-ordinate of the map for global positioning.</div><div class="ttdef"><b>Definition:</b> <a href="ShipBFieldMap_8h_source.html#l00238">ShipBFieldMap.h:238</a></div></div>
<div class="ttc" id="aclassShipBFieldMap_html_a3e0120b346a6e930cf8ddb73a7276df7"><div class="ttname"><a href="classShipBFieldMap.html#a3e0120b346a6e930cf8ddb73a7276df7">ShipBFieldMap::GetTheta</a></div><div class="ttdeci">Float_t GetTheta() const</div><div class="ttdoc">Get the second Euler rotation angle about the new x axis for global positioning.</div><div class="ttdef"><b>Definition:</b> <a href="ShipBFieldMap_8h_source.html#l00256">ShipBFieldMap.h:256</a></div></div>
<div class="ttc" id="aclassShipBFieldMap_html_a9a665a3afe4a8098fae3e8f9870c4f09"><div class="ttname"><a href="classShipBFieldMap.html#a9a665a3afe4a8098fae3e8f9870c4f09">ShipBFieldMap::GetPsi</a></div><div class="ttdeci">Float_t GetPsi() const</div><div class="ttdoc">Get the third Euler rotation angle about the new z axis for global positioning.</div><div class="ttdef"><b>Definition:</b> <a href="ShipBFieldMap_8h_source.html#l00262">ShipBFieldMap.h:262</a></div></div>
<div class="ttc" id="aclassShipBFieldMap_html_ac05db14e31ba77ee824cea34e561ac09"><div class="ttname"><a href="classShipBFieldMap.html#ac05db14e31ba77ee824cea34e561ac09">ShipBFieldMap::GetPhi</a></div><div class="ttdeci">Float_t GetPhi() const</div><div class="ttdoc">Get the first Euler rotation angle about the z axis for global positioning.</div><div class="ttdef"><b>Definition:</b> <a href="ShipBFieldMap_8h_source.html#l00250">ShipBFieldMap.h:250</a></div></div>
<div class="ttc" id="aclassShipBFieldMap_html_ad7dd58847eb0bff1eea11ede5e0eea81"><div class="ttname"><a href="classShipBFieldMap.html#ad7dd58847eb0bff1eea11ede5e0eea81">ShipBFieldMap::GetXOffset</a></div><div class="ttdeci">Float_t GetXOffset() const</div><div class="ttdoc">Get the x offset co-ordinate of the map for global positioning.</div><div class="ttdef"><b>Definition:</b> <a href="ShipBFieldMap_8h_source.html#l00232">ShipBFieldMap.h:232</a></div></div>
<div class="ttc" id="aclassShipBFieldMap_html_adb382221b8f751522035674bbc15a340"><div class="ttname"><a href="classShipBFieldMap.html#adb382221b8f751522035674bbc15a340">ShipBFieldMap::phi_</a></div><div class="ttdeci">Float_t phi_</div><div class="ttdoc">The first Euler rotation angle about the z axis.</div><div class="ttdef"><b>Definition:</b> <a href="ShipBFieldMap_8h_source.html#l00422">ShipBFieldMap.h:422</a></div></div>
<div class="ttc" id="aclassShipBFieldMap_html_afd3eebaf079b2685fdd9479438a16a47"><div class="ttname"><a href="classShipBFieldMap.html#afd3eebaf079b2685fdd9479438a16a47">ShipBFieldMap::GetZOffset</a></div><div class="ttdeci">Float_t GetZOffset() const</div><div class="ttdoc">Get the z offset co-ordinate of the map for global positioning.</div><div class="ttdef"><b>Definition:</b> <a href="ShipBFieldMap_8h_source.html#l00244">ShipBFieldMap.h:244</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_a536ddce150f887c5434c788216bf00cd"><div class="ttname"><a href="classShipFieldMaker.html#a536ddce150f887c5434c788216bf00cd">ShipFieldMaker::getField</a></div><div class="ttdeci">TVirtualMagField * getField(const TString &amp;name) const</div><div class="ttdoc">Get the field stored with the given name name.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l01201">ShipFieldMaker.cxx:1201</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_a6e7d9c110249730e4a725e374c321aee"><div class="ttname"><a href="classShipFieldMaker.html#a6e7d9c110249730e4a725e374c321aee">ShipFieldMaker::getTransformation</a></div><div class="ttdeci">void getTransformation(const TString &amp;volName, transformInfo &amp;theInfo)</div><div class="ttdoc">Get the transformation matrix for the volume position and orientation.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l01057">ShipFieldMaker.cxx:1057</a></div></div>
<div class="ttc" id="anamespacegeometry__config_html_a01eaa149d3b9651ecb01f9390e028d18"><div class="ttname"><a href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">geometry_config.scale</a></div><div class="ttdeci">int scale</div><div class="ttdef"><b>Definition:</b> <a href="geometry__config_8py_source.html#l00450">geometry_config.py:450</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a241645b78a1a57f8f33b5f09024174bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a241645b78a1a57f8f33b5f09024174bc">&#9670;&nbsp;</a></span>ClassDef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ShipFieldMaker::ClassDef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classShipFieldMaker.html">ShipFieldMaker</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate fieldMap csv file in the given region. </p>
<p>ClassDef for ROOT </p>

</div>
</div>
<a id="abf937564fc0ec2b7acc56f01d0865b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf937564fc0ec2b7acc56f01d0865b59">&#9670;&nbsp;</a></span>Construct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::Construct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set-up all local and regional fields and assign them to volumes. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00065">65</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// Assign volumes with their regional (local + global) or local B fields</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#aaf44333a99dd882247caa811db06e56d">setAllRegionFields</a>();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a803162b64774be4b8d5b3ca5ecaff823">setAllLocalFields</a>();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_a803162b64774be4b8d5b3ca5ecaff823"><div class="ttname"><a href="classShipFieldMaker.html#a803162b64774be4b8d5b3ca5ecaff823">ShipFieldMaker::setAllLocalFields</a></div><div class="ttdeci">void setAllLocalFields()</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00907">ShipFieldMaker.cxx:907</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_aaf44333a99dd882247caa811db06e56d"><div class="ttname"><a href="classShipFieldMaker.html#aaf44333a99dd882247caa811db06e56d">ShipFieldMaker::setAllRegionFields</a></div><div class="ttdeci">void setAllRegionFields()</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00777">ShipFieldMaker.cxx:777</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ff3dcbc4d8b9f5ec3082940c94cc6fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ff3dcbc4d8b9f5ec3082940c94cc6fa">&#9670;&nbsp;</a></span>defineBell() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineBell </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;&#160;</td>
          <td class="paramname"><em>inputLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a Bell field based on information from the inputLine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLine</td><td>The space separated input line </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00320">320</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">size_t</span> nWords = inputLine.size();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// Expecting a line such as:</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// Bell Name BPeak zMiddle orientationInt tubeRadius</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (nWords == 6 || nWords == 9) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    TString <a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>(inputLine[1].c_str());</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    Double_t BPeak = std::atof(inputLine[2].c_str());</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    Double_t zMiddle = std::atof(inputLine[3].c_str()); <span class="comment">// cm</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    Int_t orient = std::atoi(inputLine[4].c_str());</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    Double_t tubeR = std::atof(inputLine[5].c_str()); <span class="comment">// cm</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    Double_t <a class="code" href="namespacegeometry__config.html#a7fc155c1048564d657de384fe0d68dbe">xy</a>(0.0), <a class="code" href="namespacegeometry__config.html#a4487257c46b838ef1172b356289460c4">z</a>(0.0), <a class="code" href="namespacepi0Reco.html#accfbca4f48275ff70691579da4d2b1f9">L</a>(0.0);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span> (nWords == 9) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="comment">// Specify &quot;target&quot; dimensions (cm)</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <a class="code" href="namespacegeometry__config.html#a7fc155c1048564d657de384fe0d68dbe">xy</a> = std::atof(inputLine[6].c_str());</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="namespacegeometry__config.html#a4487257c46b838ef1172b356289460c4">z</a>  = std::atof(inputLine[7].c_str());</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="namespacepi0Reco.html#accfbca4f48275ff70691579da4d2b1f9">L</a>  = std::atof(inputLine[8].c_str());</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#ad4378f3a215dff42795254e8ae6a5c8e">defineBell</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>, BPeak, zMiddle, orient, tubeR, <a class="code" href="namespacegeometry__config.html#a7fc155c1048564d657de384fe0d68dbe">xy</a>, <a class="code" href="namespacegeometry__config.html#a4487257c46b838ef1172b356289460c4">z</a>, <a class="code" href="namespacepi0Reco.html#accfbca4f48275ff70691579da4d2b1f9">L</a>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Expecting 6 or 9 words for the definition of the Bell field: &quot;</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;         &lt;&lt;<span class="stringliteral">&quot;Bell Name BPeak zMiddle orientationInt tubeRadius [targetXY targetZ0 targetL]&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_ad4378f3a215dff42795254e8ae6a5c8e"><div class="ttname"><a href="classShipFieldMaker.html#ad4378f3a215dff42795254e8ae6a5c8e">ShipFieldMaker::defineBell</a></div><div class="ttdeci">void defineBell(const TString &amp;name, Double_t BPeak, Double_t zMiddle, Int_t orient=1, Double_t tubeR=500.0, Double_t xy=0.0, Double_t z=0.0, Double_t L=0.0)</div><div class="ttdoc">Define a Bell field.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00358">ShipFieldMaker.cxx:358</a></div></div>
<div class="ttc" id="anamespacegeometry__config_html_a4487257c46b838ef1172b356289460c4"><div class="ttname"><a href="namespacegeometry__config.html#a4487257c46b838ef1172b356289460c4">geometry_config.z</a></div><div class="ttdeci">z</div><div class="ttdef"><b>Definition:</b> <a href="geometry__config_8py_source.html#l00089">geometry_config.py:89</a></div></div>
<div class="ttc" id="anamespacegeometry__config_html_a7fc155c1048564d657de384fe0d68dbe"><div class="ttname"><a href="namespacegeometry__config.html#a7fc155c1048564d657de384fe0d68dbe">geometry_config.xy</a></div><div class="ttdeci">xy</div><div class="ttdef"><b>Definition:</b> <a href="geometry__config_8py_source.html#l00415">geometry_config.py:415</a></div></div>
<div class="ttc" id="anamespacemakeCascade_html_add259298592a80ac35262a17847aee2d"><div class="ttname"><a href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">makeCascade.name</a></div><div class="ttdeci">name</div><div class="ttdef"><b>Definition:</b> <a href="makeCascade_8py_source.html#l00193">makeCascade.py:193</a></div></div>
<div class="ttc" id="anamespacepi0Reco_html_accfbca4f48275ff70691579da4d2b1f9"><div class="ttname"><a href="namespacepi0Reco.html#accfbca4f48275ff70691579da4d2b1f9">pi0Reco.L</a></div><div class="ttdeci">L</div><div class="ttdef"><b>Definition:</b> <a href="pi0Reco_8py_source.html#l00006">pi0Reco.py:6</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4378f3a215dff42795254e8ae6a5c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4378f3a215dff42795254e8ae6a5c8e">&#9670;&nbsp;</a></span>defineBell() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineBell </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Double_t&#160;</td>
          <td class="paramname"><em>BPeak</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Double_t&#160;</td>
          <td class="paramname"><em>zMiddle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>orient</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Double_t&#160;</td>
          <td class="paramname"><em>tubeR</em> = <code>500.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Double_t&#160;</td>
          <td class="paramname"><em>xy</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Double_t&#160;</td>
          <td class="paramname"><em>z</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Double_t&#160;</td>
          <td class="paramname"><em>L</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a Bell field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">BPeak</td><td>The peak B field magnitude (Tesla) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">zMiddle</td><td>The middle z global position of the magnet (cm) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">orient</td><td>Orientation flag: 1 =&gt; Bx = 0 (default), 0 =&gt; By = 0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tubeR</td><td>The largest inner radius of the tube ellipse (cm); default = 500 cm </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xy</td><td>Optional target xy radius region (cm) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">z</td><td>Optional target start z global position (cm) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">L</td><td>Optional target region length (cm) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00358">358</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classShipFieldMaker.html#a17a6b35bad80d92efa102b9427f615e0">gotField</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>)) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="classShipBellField.html">ShipBellField</a>* theField = <span class="keyword">new</span> <a class="code" href="classShipBellField.html">ShipBellField</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data(), BPeak*<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>, zMiddle, orient, tubeR);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">// Set additional parameters if we have a non-zero target length</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (fabs(<a class="code" href="namespacepi0Reco.html#accfbca4f48275ff70691579da4d2b1f9">L</a>) &gt; 0.0) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        theField-&gt;<a class="code" href="classShipBellField.html#a6afb3994cfdbe5d7cb2c5d03cfa19369">IncludeTarget</a>(<a class="code" href="namespacegeometry__config.html#a7fc155c1048564d657de384fe0d68dbe">xy</a>, <a class="code" href="namespacegeometry__config.html#a4487257c46b838ef1172b356289460c4">z</a>, <a class="code" href="namespacepi0Reco.html#accfbca4f48275ff70691579da4d2b1f9">L</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>[<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>] = theField;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;We already have a Bell field with the name &quot;</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;             &lt;&lt;<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div>
<div class="ttc" id="aclassShipBellField_html"><div class="ttname"><a href="classShipBellField.html">ShipBellField</a></div><div class="ttdef"><b>Definition:</b> <a href="ShipBellField_8h_source.html#l00027">ShipBellField.h:28</a></div></div>
<div class="ttc" id="aclassShipBellField_html_a6afb3994cfdbe5d7cb2c5d03cfa19369"><div class="ttname"><a href="classShipBellField.html#a6afb3994cfdbe5d7cb2c5d03cfa19369">ShipBellField::IncludeTarget</a></div><div class="ttdeci">void IncludeTarget(Double_t xy, Double_t z, Double_t l)</div><div class="ttdef"><b>Definition:</b> <a href="ShipBellField_8cxx_source.html#l00083">ShipBellField.cxx:83</a></div></div>
<div class="ttc" id="aclassShipFieldMaker_html_a17a6b35bad80d92efa102b9427f615e0"><div class="ttname"><a href="classShipFieldMaker.html#a17a6b35bad80d92efa102b9427f615e0">ShipFieldMaker::gotField</a></div><div class="ttdeci">Bool_t gotField(const TString &amp;name) const</div><div class="ttdoc">Check if we have a field stored with the given name name.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l01177">ShipFieldMaker.cxx:1177</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9cfbe7d555af8b29e81e58674bf768c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cfbe7d555af8b29e81e58674bf768c1">&#9670;&nbsp;</a></span>defineComposite() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineComposite </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;&#160;</td>
          <td class="paramname"><em>inputLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a composite field based on information from the inputLine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLine</td><td>The space separated input line </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00557">557</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;{</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordtype">size_t</span> nWords = inputLine.size();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">// Expecting a line such as:</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// Composite Name Field1 Field2 ... FieldN</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span> (nWords &gt; 2) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    TString <a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>(inputLine[1].c_str());</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    std::vector&lt;TString&gt; fieldNames;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> = 2; <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> &lt; nWords; <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>++) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        TString aName(inputLine[<a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>].c_str());</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        fieldNames.push_back(aName);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a1ecd681a7649f6106e96711b7124efab">defineComposite</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>, fieldNames);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Expecting at least 3 words for the composite definition: &quot;</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;         &lt;&lt;<span class="stringliteral">&quot;Composite Name Field1 Field2 ... FieldN&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_a1ecd681a7649f6106e96711b7124efab"><div class="ttname"><a href="classShipFieldMaker.html#a1ecd681a7649f6106e96711b7124efab">ShipFieldMaker::defineComposite</a></div><div class="ttdeci">void defineComposite(const TString &amp;name, const TString &amp;field1Name, const TString &amp;field2Name, const TString &amp;field3Name=&quot;&quot;, const TString &amp;field4Name=&quot;&quot;)</div><div class="ttdoc">Define a composite field from up to four fields.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00588">ShipFieldMaker.cxx:588</a></div></div>
<div class="ttc" id="anamespaceShipAna_html_aa4bf87f4d17f9d38b1d8f4d009bb54b3"><div class="ttname"><a href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">ShipAna.i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="ShipAna_8py_source.html#l00086">ShipAna.py:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ecd681a7649f6106e96711b7124efab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ecd681a7649f6106e96711b7124efab">&#9670;&nbsp;</a></span>defineComposite() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineComposite </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>field1Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>field2Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>field3Name</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>field4Name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a composite field from up to four fields. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the composite field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field1Name</td><td>The name of the first field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field2Name</td><td>The name of the second field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field3Name</td><td>The name of the third field (optional) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field4Name</td><td>The name of the fourth field (optional) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00588">588</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;{</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    std::vector&lt;TString&gt; fieldNames;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    fieldNames.push_back(field1Name);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    fieldNames.push_back(field2Name);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (field3Name.Length() &gt; 0) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    fieldNames.push_back(field3Name);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (field4Name.Length() &gt; 0) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    fieldNames.push_back(field4Name);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a1ecd681a7649f6106e96711b7124efab">defineComposite</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>, fieldNames);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0527910b4550556eff12a66984ee06ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0527910b4550556eff12a66984ee06ff">&#9670;&nbsp;</a></span>defineComposite() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineComposite </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; TString &gt;&#160;</td>
          <td class="paramname"><em>fieldNames</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a composite field from a vector of field names. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the composite field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fieldNames</td><td>Vector of all of the field names to be combined </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00608">608</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;{</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// Check if the field is already in the map</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classShipFieldMaker.html#a17a6b35bad80d92efa102b9427f615e0">gotField</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>)) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// Loop over the list of fields and add them to the composite</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    std::vector&lt;TVirtualMagField*&gt; vectFields;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    std::vector&lt;TString&gt;::iterator iter;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">for</span> (iter = fieldNames.begin(); iter != fieldNames.end(); ++iter) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        TString aName = *iter;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        TVirtualMagField* aField = this-&gt;<a class="code" href="classShipFieldMaker.html#a536ddce150f887c5434c788216bf00cd">getField</a>(aName);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">if</span> (aField) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {std::cout&lt;&lt;<span class="stringliteral">&quot;Adding field &quot;</span>&lt;&lt;aName&lt;&lt;std::endl;}</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        vectFields.push_back(aField);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <a class="code" href="classShipCompField.html">ShipCompField</a>* composite = <span class="keyword">new</span> <a class="code" href="classShipCompField.html">ShipCompField</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data(), vectFields);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>[<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>] = composite;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;We already have a composite field with the name &quot;</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;         &lt;&lt;<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div>
<div class="ttc" id="aclassShipCompField_html"><div class="ttname"><a href="classShipCompField.html">ShipCompField</a></div><div class="ttdoc">Class that defines a magnetic field composed from many fields.</div><div class="ttdef"><b>Definition:</b> <a href="ShipCompField_8h_source.html#l00014">ShipCompField.h:15</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae02c4c4a19cf3dfcbdbacbed23aad2b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae02c4c4a19cf3dfcbdbacbed23aad2b0">&#9670;&nbsp;</a></span>defineConstant() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineConstant </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;&#160;</td>
          <td class="paramname"><em>inputLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a constant field based on information from the inputLine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLine</td><td>The space separated input line </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00247">247</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">size_t</span> nWords = inputLine.size();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// Expecting a line such as:</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// Constant Name xMin xMax yMin yMax zMin zMax Bx By Bz</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (nWords == 11) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    TString <a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>(inputLine[1].c_str());</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    Double_t xMin = std::atof(inputLine[2].c_str());</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    Double_t <a class="code" href="namespacegeometry__config.html#a437302764acd932304dabd2a65070edf">xMax</a> = std::atof(inputLine[3].c_str());</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    Double_t yMin = std::atof(inputLine[4].c_str());</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    Double_t yMax = std::atof(inputLine[5].c_str());</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    Double_t zMin = std::atof(inputLine[6].c_str());</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    Double_t zMax = std::atof(inputLine[7].c_str());</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// Input field in Tesla_, interface needs kGauss units</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#a08201171c49eed8adcb907dad9c5f9ed">Bx</a> = std::atof(inputLine[8].c_str());</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#a57049317d3e1c9bae567e13a9214fa57">By</a> = std::atof(inputLine[9].c_str());</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#aa1ed1b6fae74da44d96104e701884cb0">Bz</a> = std::atof(inputLine[10].c_str());</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keyword">const</span> TVector2 xRange(xMin, <a class="code" href="namespacegeometry__config.html#a437302764acd932304dabd2a65070edf">xMax</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keyword">const</span> TVector2 yRange(yMin, yMax);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keyword">const</span> TVector2 zRange(zMin, zMax);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">const</span> TVector3 BVector(<a class="code" href="namespacegoliath2root.html#a08201171c49eed8adcb907dad9c5f9ed">Bx</a>, <a class="code" href="namespacegoliath2root.html#a57049317d3e1c9bae567e13a9214fa57">By</a>, <a class="code" href="namespacegoliath2root.html#aa1ed1b6fae74da44d96104e701884cb0">Bz</a>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#ae11b9703aa051c2cb86ef40aed49d19a">defineConstant</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>, xRange, yRange, zRange, BVector);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Expecting 11 words for the definition of the constant field: &quot;</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;         &lt;&lt;<span class="stringliteral">&quot;Constant Name xMin xMax yMin yMax zMin zMax Bx By Bz&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_ae11b9703aa051c2cb86ef40aed49d19a"><div class="ttname"><a href="classShipFieldMaker.html#ae11b9703aa051c2cb86ef40aed49d19a">ShipFieldMaker::defineConstant</a></div><div class="ttdeci">void defineConstant(const TString &amp;name, const TVector2 &amp;xRange, const TVector2 &amp;yRange, const TVector2 &amp;zRange, const TVector3 &amp;BVector)</div><div class="ttdoc">Define a constant field.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00289">ShipFieldMaker.cxx:289</a></div></div>
<div class="ttc" id="anamespacegeometry__config_html_a437302764acd932304dabd2a65070edf"><div class="ttname"><a href="namespacegeometry__config.html#a437302764acd932304dabd2a65070edf">geometry_config.xMax</a></div><div class="ttdeci">xMax</div><div class="ttdef"><b>Definition:</b> <a href="geometry__config_8py_source.html#l00131">geometry_config.py:131</a></div></div>
<div class="ttc" id="anamespacegoliath2root_html_a08201171c49eed8adcb907dad9c5f9ed"><div class="ttname"><a href="namespacegoliath2root.html#a08201171c49eed8adcb907dad9c5f9ed">goliath2root.Bx</a></div><div class="ttdeci">Bx</div><div class="ttdef"><b>Definition:</b> <a href="goliath2root_8py_source.html#l00025">goliath2root.py:25</a></div></div>
<div class="ttc" id="anamespacegoliath2root_html_a57049317d3e1c9bae567e13a9214fa57"><div class="ttname"><a href="namespacegoliath2root.html#a57049317d3e1c9bae567e13a9214fa57">goliath2root.By</a></div><div class="ttdeci">By</div><div class="ttdef"><b>Definition:</b> <a href="goliath2root_8py_source.html#l00025">goliath2root.py:25</a></div></div>
<div class="ttc" id="anamespacegoliath2root_html_aa1ed1b6fae74da44d96104e701884cb0"><div class="ttname"><a href="namespacegoliath2root.html#aa1ed1b6fae74da44d96104e701884cb0">goliath2root.Bz</a></div><div class="ttdeci">Bz</div><div class="ttdef"><b>Definition:</b> <a href="goliath2root_8py_source.html#l00025">goliath2root.py:25</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae11b9703aa051c2cb86ef40aed49d19a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae11b9703aa051c2cb86ef40aed49d19a">&#9670;&nbsp;</a></span>defineConstant() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineConstant </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector2 &amp;&#160;</td>
          <td class="paramname"><em>xRange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector2 &amp;&#160;</td>
          <td class="paramname"><em>yRange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector2 &amp;&#160;</td>
          <td class="paramname"><em>zRange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>BVector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a constant field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xRange</td><td>The x range as a TVector2(xMin, xMax) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yRange</td><td>The y range as a TVector2(yMin, yMax) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">zRange</td><td>The z range as a TVector2(zMin, zMax) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">BVector</td><td>The vector of B field components (Bx, By, Bz) in Tesla </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00289">289</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// Check if the field is already in the map</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classShipFieldMaker.html#a17a6b35bad80d92efa102b9427f615e0">gotField</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>)) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    Double_t xMin = xRange.X();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    Double_t <a class="code" href="namespacegeometry__config.html#a437302764acd932304dabd2a65070edf">xMax</a> = xRange.Y();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    Double_t yMin = yRange.X();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    Double_t yMax = yRange.Y();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    Double_t zMin = zRange.X();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    Double_t zMax = zRange.Y();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#a08201171c49eed8adcb907dad9c5f9ed">Bx</a> = BVector.X()*<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#a57049317d3e1c9bae567e13a9214fa57">By</a> = BVector.Y()*<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#aa1ed1b6fae74da44d96104e701884cb0">Bz</a> = BVector.Z()*<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="classShipConstField.html">ShipConstField</a>* theField = <span class="keyword">new</span> <a class="code" href="classShipConstField.html">ShipConstField</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data(), xMin, <a class="code" href="namespacegeometry__config.html#a437302764acd932304dabd2a65070edf">xMax</a>, yMin, yMax,</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                              zMin, zMax, <a class="code" href="namespacegoliath2root.html#a08201171c49eed8adcb907dad9c5f9ed">Bx</a>, <a class="code" href="namespacegoliath2root.html#a57049317d3e1c9bae567e13a9214fa57">By</a>, <a class="code" href="namespacegoliath2root.html#aa1ed1b6fae74da44d96104e701884cb0">Bz</a>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>[<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>] = theField;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;We already have a constant field with the name &quot;</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;             &lt;&lt;<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="ttc" id="aclassShipConstField_html"><div class="ttname"><a href="classShipConstField.html">ShipConstField</a></div><div class="ttdef"><b>Definition:</b> <a href="ShipConstField_8h_source.html#l00026">ShipConstField.h:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf3b3aa3a47860e97f72f3c028ba3a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf3b3aa3a47860e97f72f3c028ba3a30">&#9670;&nbsp;</a></span>defineFieldMap() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineFieldMap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;&#160;</td>
          <td class="paramname"><em>inputLine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Bool_t&#160;</td>
          <td class="paramname"><em>useSymmetry</em> = <code>kFALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a field map based on information from the inputLine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLine</td><td>The space separated input line </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">useSymmetry</td><td>Boolean to specify if we have x-y quadrant symmetry </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00383">383</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordtype">size_t</span> nWords = inputLine.size();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">// Expecting the line:</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">// FieldMap Name mapFileName [x0 y0 z0] [phi theta psi]</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (nWords == 3 || nWords == 6 || nWords == 9) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keyword">const</span> TString <a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>(inputLine[1].c_str());</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keyword">const</span> TString mapFileName(inputLine[2].c_str());</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    Double_t x0(0.0), y0(0.0), <a class="code" href="namespacegeometry__config.html#a144a0740a14f17fe0deedd9803917157">z0</a>(0.0);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    Double_t <a class="code" href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">phi</a>(0.0), <a class="code" href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">theta</a>(0.0), psi(0.0);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (nWords &gt; 5) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        x0 = std::atof(inputLine[3].c_str());</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        y0 = std::atof(inputLine[4].c_str());</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="namespacegeometry__config.html#a144a0740a14f17fe0deedd9803917157">z0</a> = std::atof(inputLine[5].c_str());</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (nWords == 9) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">phi</a> = std::atof(inputLine[6].c_str());</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">theta</a> = std::atof(inputLine[7].c_str());</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        psi = std::atof(inputLine[8].c_str());</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keyword">const</span> TVector3 localCentre(x0, y0, <a class="code" href="namespacegeometry__config.html#a144a0740a14f17fe0deedd9803917157">z0</a>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keyword">const</span> TVector3 localAngles(<a class="code" href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">phi</a>, <a class="code" href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">theta</a>, psi);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a0a845f73b3c26e2b5c660bcce4dbef4e">defineFieldMap</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>, mapFileName, localCentre, localAngles, useSymmetry);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Expecting 3, 6 or 9 words for the definition of the field map: &quot;</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;         &lt;&lt;<span class="stringliteral">&quot;(Sym)FieldMap Name mapFileName [x0 y0 z0] [[phi theta psi]]&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_a0a845f73b3c26e2b5c660bcce4dbef4e"><div class="ttname"><a href="classShipFieldMaker.html#a0a845f73b3c26e2b5c660bcce4dbef4e">ShipFieldMaker::defineFieldMap</a></div><div class="ttdeci">void defineFieldMap(const TString &amp;name, const TString &amp;mapFileName, const TVector3 &amp;localCentre=TVector3(0.0, 0.0, 0.0), const TVector3 &amp;localAngles=TVector3(0.0, 0.0, 0.0), Bool_t useSymmetry=kFALSE)</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00424">ShipFieldMaker.cxx:424</a></div></div>
<div class="ttc" id="anamespacegeometry__config_html_a144a0740a14f17fe0deedd9803917157"><div class="ttname"><a href="namespacegeometry__config.html#a144a0740a14f17fe0deedd9803917157">geometry_config.z0</a></div><div class="ttdeci">z0</div><div class="ttdef"><b>Definition:</b> <a href="geometry__config_8py_source.html#l00419">geometry_config.py:419</a></div></div>
<div class="ttc" id="anamespacemakeMuonDIS_html_a46fd07d81c633221657121b3f0589fb3"><div class="ttname"><a href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">makeMuonDIS.phi</a></div><div class="ttdeci">phi</div><div class="ttdef"><b>Definition:</b> <a href="makeMuonDIS_8py_source.html#l00079">makeMuonDIS.py:79</a></div></div>
<div class="ttc" id="anamespacemakeMuonDIS_html_a6deb68dc080ef810c34fcffdd94b6a57"><div class="ttname"><a href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">makeMuonDIS.theta</a></div><div class="ttdeci">theta</div><div class="ttdef"><b>Definition:</b> <a href="makeMuonDIS_8py_source.html#l00078">makeMuonDIS.py:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a845f73b3c26e2b5c660bcce4dbef4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a845f73b3c26e2b5c660bcce4dbef4e">&#9670;&nbsp;</a></span>defineFieldMap() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineFieldMap </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>mapFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>localCentre</em> = <code>TVector3(0.0,&#160;0.0,&#160;0.0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>localAngles</em> = <code>TVector3(0.0,&#160;0.0,&#160;0.0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Bool_t&#160;</td>
          <td class="paramname"><em>useSymmetry</em> = <code>kFALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapFileName</td><td>The location of the field map ROOT file relative to VMCWORKDIR </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">localCentre</td><td>The TVector3(x,y,z) offset shift applied to all field map coordinates </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">localAngles</td><td>The TVector3(phi, theta, psi) Euler rotation applied to all map coords </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">useSymmetry</td><td>Boolean to specify if the map has quadrant symmetry (default = false) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00424">424</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// Check if the field is already in the map</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classShipFieldMaker.html#a17a6b35bad80d92efa102b9427f615e0">gotField</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>)) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// Add the VMCWORKDIR prefix to this map file location</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    std::string fullFileName = getenv(<span class="stringliteral">&quot;VMCWORKDIR&quot;</span>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    fullFileName += <span class="stringliteral">&quot;/&quot;</span>; fullFileName += mapFileName.Data();</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">if</span> (useSymmetry) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Creating symmetric field map called &quot;</span>&lt;&lt;<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data()&lt;&lt;<span class="stringliteral">&quot; using &quot;</span>&lt;&lt;fullFileName&lt;&lt;std::endl;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Creating field map called &quot;</span>&lt;&lt;<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data()&lt;&lt;<span class="stringliteral">&quot; using &quot;</span>&lt;&lt;fullFileName&lt;&lt;std::endl;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// Since field maps use floating point precision we convert any double parameter</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">// values to floats, i.e. we can&#39;t simply pass TVector3 objects</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    Float_t x0 = localCentre.X();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    Float_t y0 = localCentre.Y();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    Float_t <a class="code" href="namespacegeometry__config.html#a144a0740a14f17fe0deedd9803917157">z0</a> = localCentre.Z();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    Float_t <a class="code" href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">phi</a> = localAngles.X();</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    Float_t <a class="code" href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">theta</a> = localAngles.Y();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    Float_t psi = localAngles.Z();</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    Float_t <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>(1.0);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>* mapField = <span class="keyword">new</span> <a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data(), fullFileName, x0, y0, <a class="code" href="namespacegeometry__config.html#a144a0740a14f17fe0deedd9803917157">z0</a>,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                            <a class="code" href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">phi</a>, <a class="code" href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">theta</a>, psi, <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>, useSymmetry);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>[<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>] = mapField;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;We already have a field map with the name &quot;</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;             &lt;&lt;<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9e331f6a407033d03face9ea9ab79f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9e331f6a407033d03face9ea9ab79f5">&#9670;&nbsp;</a></span>defineFieldMapCopy() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineFieldMapCopy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;&#160;</td>
          <td class="paramname"><em>inputLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a (translated) copy of a field map based on information from the inputLine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLine</td><td>The space separated input line </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00470">470</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;{</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">// Define a (translated) copy of a field map based in the input file line</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordtype">size_t</span> nWords = inputLine.size();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// Expecting the line:</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// CopyMap Name MapNameToCopy x0 y0 z0 [phi theta psi]</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> (nWords == 6 || nWords == 9) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keyword">const</span> TString <a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>(inputLine[1].c_str());</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// We want to try to copy and transpose an already existing field map</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keyword">const</span> TString mapNameToCopy(inputLine[2].c_str());</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    Double_t x0 = std::atof(inputLine[3].c_str());</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    Double_t y0 = std::atof(inputLine[4].c_str());</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    Double_t <a class="code" href="namespacegeometry__config.html#a144a0740a14f17fe0deedd9803917157">z0</a> = std::atof(inputLine[5].c_str());</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    Double_t <a class="code" href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">phi</a>(0.0), <a class="code" href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">theta</a>(0.0), psi(0.0), <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>(1.0);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">if</span> (nWords == 9) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">phi</a> = std::atof(inputLine[6].c_str());</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">theta</a> = std::atof(inputLine[7].c_str());</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        psi = std::atof(inputLine[8].c_str());</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keyword">const</span> TVector3 translation(x0, y0, <a class="code" href="namespacegeometry__config.html#a144a0740a14f17fe0deedd9803917157">z0</a>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keyword">const</span> TVector3 eulerAngles(<a class="code" href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">phi</a>, <a class="code" href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">theta</a>, psi);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#ad7bda3f864f4850aeff421b72693531a">defineFieldMapCopy</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>, mapNameToCopy, translation, eulerAngles);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Expecting 6 or 9 words for the copy of a field map: &quot;</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;         &lt;&lt;<span class="stringliteral">&quot;CopyMap Name MapNameToCopy x0 y0 z0 [phi theta psi]&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_ad7bda3f864f4850aeff421b72693531a"><div class="ttname"><a href="classShipFieldMaker.html#ad7bda3f864f4850aeff421b72693531a">ShipFieldMaker::defineFieldMapCopy</a></div><div class="ttdeci">void defineFieldMapCopy(const TString &amp;name, const TString &amp;mapNameToCopy, const TVector3 &amp;translation, const TVector3 &amp;eulerAngles=TVector3(0.0, 0.0, 0.0))</div><div class="ttdoc">Define a copy of a field map with a coordinate translation and optional rotation.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00513">ShipFieldMaker.cxx:513</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7bda3f864f4850aeff421b72693531a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7bda3f864f4850aeff421b72693531a">&#9670;&nbsp;</a></span>defineFieldMapCopy() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineFieldMapCopy </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>mapNameToCopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>translation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>eulerAngles</em> = <code>TVector3(0.0,&#160;0.0,&#160;0.0)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a copy of a field map with a coordinate translation and optional rotation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapNameToCopy</td><td>The name of the field map that is to be copied </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">translation</td><td>The TVector3(x,y,z) coordinate translation </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">eulerAngles</td><td>The TVector3(phi, theta, psi) Euler angle rotation </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00513">513</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// Check if the field is already in the map</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classShipFieldMaker.html#a17a6b35bad80d92efa102b9427f615e0">gotField</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>)) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>* fieldToCopy =</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="classShipFieldMaker.html#a536ddce150f887c5434c788216bf00cd">getField</a>(mapNameToCopy));</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span> (fieldToCopy) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Creating map field copy &quot;</span>&lt;&lt;<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data()</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;             &lt;&lt;<span class="stringliteral">&quot; based on &quot;</span>&lt;&lt;mapNameToCopy.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="comment">// Since field maps use floating point precision we convert any double parameter</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="comment">// values to floats, i.e. we can&#39;t simply pass TVector3 objects</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        Float_t x0 = translation.X();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        Float_t y0 = translation.Y();</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        Float_t <a class="code" href="namespacegeometry__config.html#a144a0740a14f17fe0deedd9803917157">z0</a> = translation.Z();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        Float_t <a class="code" href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">phi</a> = eulerAngles.X();</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        Float_t <a class="code" href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">theta</a> = eulerAngles.Y();</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        Float_t psi = eulerAngles.Z();</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        Float_t <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>(1.0);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>* copiedMap = <span class="keyword">new</span> <a class="code" href="classShipBFieldMap.html">ShipBFieldMap</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data(), *fieldToCopy,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                             x0, y0, <a class="code" href="namespacegeometry__config.html#a144a0740a14f17fe0deedd9803917157">z0</a>, <a class="code" href="namespacemakeMuonDIS.html#a46fd07d81c633221657121b3f0589fb3">phi</a>, <a class="code" href="namespacemakeMuonDIS.html#a6deb68dc080ef810c34fcffdd94b6a57">theta</a>, psi, <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>[<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>] = copiedMap;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;We already have a copied field map with the name &quot;</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;         &lt;&lt;<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa1285e47407cd3a8dd8e6d7f9cd9acd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1285e47407cd3a8dd8e6d7f9cd9acd6">&#9670;&nbsp;</a></span>defineGlobalField() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineGlobalField </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;&#160;</td>
          <td class="paramname"><em>inputLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define the global field based on information from the inputLine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLine</td><td>The space separated input line </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00640">640</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;{</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// Define the global field using the input file line</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordtype">size_t</span> nWords = inputLine.size();</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">// Expecting the line:</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// Global Field1 ... FieldN</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span> (nWords &gt; 1) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    TString <a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>(<span class="stringliteral">&quot;Global&quot;</span>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    std::vector&lt;TString&gt; fieldNames;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> = 1; <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> &lt; nWords; <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>++) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        TString aName(inputLine[<a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>].c_str());</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        fieldNames.push_back(aName);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a8dd099f27be8e0c6b489038b1b4ce681">defineGlobalField</a>(fieldNames);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Expecting at least two words for the global field definition: &quot;</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;         &lt;&lt;<span class="stringliteral">&quot;Global Field1 ... FieldN&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_a8dd099f27be8e0c6b489038b1b4ce681"><div class="ttname"><a href="classShipFieldMaker.html#a8dd099f27be8e0c6b489038b1b4ce681">ShipFieldMaker::defineGlobalField</a></div><div class="ttdeci">void defineGlobalField(const TString &amp;field1Name, const TString &amp;field2Name=&quot;&quot;, const TString &amp;field3Name=&quot;&quot;, const TString &amp;field4Name=&quot;&quot;)</div><div class="ttdoc">Define a composite field from up to four fields.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00673">ShipFieldMaker.cxx:673</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dd099f27be8e0c6b489038b1b4ce681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dd099f27be8e0c6b489038b1b4ce681">&#9670;&nbsp;</a></span>defineGlobalField() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineGlobalField </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>field1Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>field2Name</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>field3Name</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>field4Name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a composite field from up to four fields. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">field1Name</td><td>The name of the first field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field2Name</td><td>The name of the second field (optional) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field3Name</td><td>The name of the third field (optional) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field4Name</td><td>The name of the fourth field (optional) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00673">673</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;{</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    std::vector&lt;TString&gt; fieldNames;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    fieldNames.push_back(field1Name);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span> (field2Name.Length() &gt; 0) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    fieldNames.push_back(field2Name);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">if</span> (field3Name.Length() &gt; 0) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    fieldNames.push_back(field3Name);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (field4Name.Length() &gt; 0) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    fieldNames.push_back(field4Name);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a8dd099f27be8e0c6b489038b1b4ce681">defineGlobalField</a>(fieldNames);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac217b4137a8b646b96d1bc6b25341399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac217b4137a8b646b96d1bc6b25341399">&#9670;&nbsp;</a></span>defineGlobalField() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineGlobalField </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; TString &gt;&#160;</td>
          <td class="paramname"><em>fieldNames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define the Global field using a vector of field names. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fieldNames</td><td>Vector of all of the field names to be combined </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00694">694</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;{</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a>) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Deleting already existing Global field&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {std::cout&lt;&lt;<span class="stringliteral">&quot;Setting the Global field&quot;</span>&lt;&lt;std::endl;}</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    std::vector&lt;TVirtualMagField*&gt; vectFields;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    std::vector&lt;TString&gt;::iterator iter;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">for</span> (iter = fieldNames.begin(); iter != fieldNames.end(); ++iter) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    TString aName = *iter;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    TVirtualMagField* aField = this-&gt;<a class="code" href="classShipFieldMaker.html#a536ddce150f887c5434c788216bf00cd">getField</a>(aName);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">if</span> (aField) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {std::cout&lt;&lt;<span class="stringliteral">&quot;Adding field &quot;</span>&lt;&lt;aName&lt;&lt;<span class="stringliteral">&quot; to Global&quot;</span>&lt;&lt;std::endl;}</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        vectFields.push_back(aField);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Could not find the field &quot;</span>&lt;&lt;aName&lt;&lt;std::endl;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    TString <a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>(<span class="stringliteral">&quot;Global&quot;</span>);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a> = <span class="keyword">new</span> <a class="code" href="classShipCompField.html">ShipCompField</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data(), vectFields);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="comment">// Set this as the global field in the virtual MC</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacerun__simScript.html#a671e51e119017a06d69c162c6e24b051">gMC</a>) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="namespacerun__simScript.html#a671e51e119017a06d69c162c6e24b051">gMC</a>-&gt;SetMagField(<a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;The virtual MC pointer gMC is null! The global field can&#39;t be used by Geant4 but will work for track fitting and track extrapolation&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;}</div>
<div class="ttc" id="anamespacerun__simScript_html_a671e51e119017a06d69c162c6e24b051"><div class="ttname"><a href="namespacerun__simScript.html#a671e51e119017a06d69c162c6e24b051">run_simScript.gMC</a></div><div class="ttdeci">gMC</div><div class="ttdef"><b>Definition:</b> <a href="run__simScript_8py_source.html#l00519">run_simScript.py:519</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa91385b42a28a955456c64b358a2c96d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa91385b42a28a955456c64b358a2c96d">&#9670;&nbsp;</a></span>defineLocalField() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineLocalField </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;&#160;</td>
          <td class="paramname"><em>inputLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a local field only based on information from the inputLine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLine</td><td>The space separated input line </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00865">865</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;{</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="comment">// Set only the local field for the region using info from inputLine</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordtype">size_t</span> nWords = inputLine.size();</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// Expecting the line:</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">// Local VolName FieldName [FieldMapScaleFactor]</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span> (nWords == 3 || nWords == 4) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    TString volName(inputLine[1].c_str());</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    TString fieldName(inputLine[2].c_str());</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    Double_t <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>(1.0);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">if</span> (nWords == 4) {<a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a> = std::atof(inputLine[3].c_str());}</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a9da15b26eea1a0d7eb588e2689c87e99">defineLocalField</a>(volName, fieldName, <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Expecting 3 or 4 words for the local field definition: &quot;</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;         &lt;&lt;<span class="stringliteral">&quot;Local VolName LocalFieldName [FieldMapScale]&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_a9da15b26eea1a0d7eb588e2689c87e99"><div class="ttname"><a href="classShipFieldMaker.html#a9da15b26eea1a0d7eb588e2689c87e99">ShipFieldMaker::defineLocalField</a></div><div class="ttdeci">void defineLocalField(const TString &amp;volName, const TString &amp;fieldName, Double_t scale=1.0)</div><div class="ttdoc">Define a localised field and volume pairing.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00893">ShipFieldMaker.cxx:893</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9da15b26eea1a0d7eb588e2689c87e99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9da15b26eea1a0d7eb588e2689c87e99">&#9670;&nbsp;</a></span>defineLocalField() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineLocalField </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>volName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>fieldName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Double_t&#160;</td>
          <td class="paramname"><em>scale</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a localised field and volume pairing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">volName</td><td>The name of the volume </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fieldName</td><td>The name of the local field for the volume </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale</td><td>Optional scale factor for field maps (default = 1.0) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00893">893</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;{</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;ShipFieldMaker::defineLocalField for volume &quot;</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;         &lt;&lt;volName.Data()&lt;&lt;<span class="stringliteral">&quot; and field &quot;</span>&lt;&lt;fieldName.Data()</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;         &lt;&lt;<span class="stringliteral">&quot; with scale = &quot;</span>&lt;&lt;<a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    fieldInfo theInfo(volName, fieldName,<a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <a class="code" href="classShipFieldMaker.html#a0c5203ee14b827b04a5a7f0c6b000c5d">localInfo_</a>.push_back(theInfo);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9bce0db7ef2f464add2086488ace8d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bce0db7ef2f464add2086488ace8d2c">&#9670;&nbsp;</a></span>defineRegionField() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineRegionField </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;&#160;</td>
          <td class="paramname"><em>inputLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a regional (local+global) field based on the info from the inputLine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLine</td><td>The space separated input line </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00735">735</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;{</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// Set the local + global field for the region using info from inputLine</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordtype">size_t</span> nWords = inputLine.size();</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">// Expecting the line:</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// Region VolName FieldName [FieldMapScaleFactor]</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span> (nWords == 3 || nWords == 4) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    TString volName(inputLine[1].c_str());</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    TString fieldName(inputLine[2].c_str());</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    Double_t <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>(1.0);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (nWords == 4) {<a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a> = std::atof(inputLine[3].c_str());}</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#aef31f2695b538e04b00db829f7895e57">defineRegionField</a>(volName, fieldName, <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Expecting 3 or 4 words for the region (local + global) field definition: &quot;</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;         &lt;&lt;<span class="stringliteral">&quot;Region VolName LocalFieldName [LocalFieldMapScale]&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_aef31f2695b538e04b00db829f7895e57"><div class="ttname"><a href="classShipFieldMaker.html#aef31f2695b538e04b00db829f7895e57">ShipFieldMaker::defineRegionField</a></div><div class="ttdeci">void defineRegionField(const TString &amp;volName, const TString &amp;fieldName, Double_t scale=1.0)</div><div class="ttdoc">Define a regional (local + global) field and volume pairing.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00763">ShipFieldMaker.cxx:763</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aef31f2695b538e04b00db829f7895e57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef31f2695b538e04b00db829f7895e57">&#9670;&nbsp;</a></span>defineRegionField() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineRegionField </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>volName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>fieldName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Double_t&#160;</td>
          <td class="paramname"><em>scale</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a regional (local + global) field and volume pairing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">volName</td><td>The name of the volume </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fieldName</td><td>The name of the field for the volume </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale</td><td>Optional scale factor for field maps (default = 1.0) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00763">763</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;{</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;ShipFieldMaker::defineRegionField for volume &quot;</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;         &lt;&lt;volName.Data()&lt;&lt;<span class="stringliteral">&quot; and field &quot;</span>&lt;&lt;fieldName.Data()</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;         &lt;&lt;<span class="stringliteral">&quot; with scale = &quot;</span>&lt;&lt;<a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    fieldInfo theInfo(volName, fieldName, <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <a class="code" href="classShipFieldMaker.html#a610485fbe459382bd59d6025483cc2eb">regionInfo_</a>.push_back(theInfo);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1801a74f4a502f9998ebf6f445f256c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1801a74f4a502f9998ebf6f445f256c">&#9670;&nbsp;</a></span>defineUniform() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineUniform </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> &amp;&#160;</td>
          <td class="paramname"><em>inputLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a uniform field based on information from the inputLine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLine</td><td>The space separated input line </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00194">194</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">size_t</span> nWords = inputLine.size();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// Expecting a line such as:</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Uniform Name Bx By Bz</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (nWords == 5) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keyword">const</span> TString <a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>(inputLine[1].c_str());</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#a08201171c49eed8adcb907dad9c5f9ed">Bx</a> = std::atof(inputLine[2].c_str());</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#a57049317d3e1c9bae567e13a9214fa57">By</a> = std::atof(inputLine[3].c_str());</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#aa1ed1b6fae74da44d96104e701884cb0">Bz</a> = std::atof(inputLine[4].c_str());</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">const</span> TVector3 BVector(<a class="code" href="namespacegoliath2root.html#a08201171c49eed8adcb907dad9c5f9ed">Bx</a>, <a class="code" href="namespacegoliath2root.html#a57049317d3e1c9bae567e13a9214fa57">By</a>, <a class="code" href="namespacegoliath2root.html#aa1ed1b6fae74da44d96104e701884cb0">Bz</a>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#ab664b64d707783cf30521c2ac9bd5192">defineUniform</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>, BVector);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Expecting 5 words for the definition of the uniform field: &quot;</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;         &lt;&lt;<span class="stringliteral">&quot;Uniform Name Bx By Bz&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_ab664b64d707783cf30521c2ac9bd5192"><div class="ttname"><a href="classShipFieldMaker.html#ab664b64d707783cf30521c2ac9bd5192">ShipFieldMaker::defineUniform</a></div><div class="ttdeci">void defineUniform(const TString &amp;name, const TVector3 &amp;BVector)</div><div class="ttdoc">Define a uniform field.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00222">ShipFieldMaker.cxx:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab664b64d707783cf30521c2ac9bd5192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab664b64d707783cf30521c2ac9bd5192">&#9670;&nbsp;</a></span>defineUniform() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::defineUniform </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>BVector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a uniform field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">BVector</td><td>The vector of B field components (Bx, By, Bz) in Tesla </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00222">222</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// Check if the field is already in the map</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classShipFieldMaker.html#a17a6b35bad80d92efa102b9427f615e0">gotField</a>(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>)) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {std::cout&lt;&lt;<span class="stringliteral">&quot;Creating uniform field for &quot;</span>&lt;&lt;<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data()&lt;&lt;std::endl;}</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#a08201171c49eed8adcb907dad9c5f9ed">Bx</a> = BVector.X()*<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#a57049317d3e1c9bae567e13a9214fa57">By</a> = BVector.Y()*<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    Double_t <a class="code" href="namespacegoliath2root.html#aa1ed1b6fae74da44d96104e701884cb0">Bz</a> = BVector.Z()*<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    TGeoUniformMagField* uField = <span class="keyword">new</span> TGeoUniformMagField(<a class="code" href="namespacegoliath2root.html#a08201171c49eed8adcb907dad9c5f9ed">Bx</a>, <a class="code" href="namespacegoliath2root.html#a57049317d3e1c9bae567e13a9214fa57">By</a>, <a class="code" href="namespacegoliath2root.html#aa1ed1b6fae74da44d96104e701884cb0">Bz</a>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>[<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>] = uField;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;We already have a uniform field with the name &quot;</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;             &lt;&lt;<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d779389098e85a4055b5f2da7ed02e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d779389098e85a4055b5f2da7ed02e9">&#9670;&nbsp;</a></span>findNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::findNode </td>
          <td>(</td>
          <td class="paramtype">TGeoVolume *&#160;</td>
          <td class="paramname"><em>aVolume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>volName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the current geometry node pointer that matches the required volume name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aVolume</td><td>The current volume, whose nodes are looked at </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">volName</td><td>The required volume name we want to find </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01115">1115</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                                                                         {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="comment">// Find the geometry node that matches the required volume name</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="comment">// Immediately exit the function if we have already found the volume</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#a3e87ea764b4ee5b75c44f3fb60a643e6">gotNode_</a>) {<span class="keywordflow">return</span>;}</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">if</span> (aVolume) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    TObjArray* volNodes = aVolume-&gt;GetNodes();</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">if</span> (volNodes) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="comment">// Loop over the geometry nodes</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <span class="keywordtype">int</span> nNodes = volNodes-&gt;GetEntries();</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> = 0; <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> &lt; nNodes; <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>++) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        TGeoNode* node = <span class="keyword">dynamic_cast&lt;</span>TGeoNode*<span class="keyword">&gt;</span>(volNodes-&gt;At(<a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>));</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">if</span> (node) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <span class="keyword">const</span> TString nodeName(node-&gt;GetName());</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <span class="keywordflow">if</span> (!nodeName.CompareTo(volName, TString::kExact)) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            <span class="comment">// We have a match. The node has the transformation we need</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            <a class="code" href="classShipFieldMaker.html#a7216f114250b997e81bea9b25f7c93c4">theNode_</a> = node;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <a class="code" href="classShipFieldMaker.html#a3e87ea764b4ee5b75c44f3fb60a643e6">gotNode_</a> = kTRUE;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;GetNodes()) {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            <span class="comment">// We have sub-volumes. Recursively call this function</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#a1d779389098e85a4055b5f2da7ed02e9">findNode</a>(node-&gt;GetVolume(), volName);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_a1d779389098e85a4055b5f2da7ed02e9"><div class="ttname"><a href="classShipFieldMaker.html#a1d779389098e85a4055b5f2da7ed02e9">ShipFieldMaker::findNode</a></div><div class="ttdeci">void findNode(TGeoVolume *aVolume, const TString &amp;volName)</div><div class="ttdoc">Update the current geometry node pointer that matches the required volume name.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l01115">ShipFieldMaker.cxx:1115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af4163c17204229a088a6c5ae3345f3fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4163c17204229a088a6c5ae3345f3fe">&#9670;&nbsp;</a></span>generateFieldMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::generateFieldMap </td>
          <td>(</td>
          <td class="paramtype">TString&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>step</em> = <code>2.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>xRange</em> = <code>179</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>yRange</em> = <code>317</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>zRange</em> = <code>1515.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>zShift</em> = <code>-4996</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01383">1383</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                                                                                                                                                       {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        std::ofstream myfile;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        myfile.open (fileName);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keywordtype">int</span> xSteps = ceil(xRange/<a class="code" href="namespaceadd__noise__to__field.html#a96cf5cc2cc008d7422009cb2ad93cb51">step</a>) + 1;   <span class="comment">//field map has X range from 0 to xMax</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        <span class="keywordtype">int</span> ySteps = ceil(yRange/<a class="code" href="namespaceadd__noise__to__field.html#a96cf5cc2cc008d7422009cb2ad93cb51">step</a>) + 1;   <span class="comment">//from 0 up to yMax</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <span class="keywordtype">int</span> zSteps = ceil(zRange*2./<a class="code" href="namespaceadd__noise__to__field.html#a96cf5cc2cc008d7422009cb2ad93cb51">step</a>) + 1;<span class="comment">//from -zMax up to zMax</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        Double_t position[3] = {0.0, 0.0, 0.0};</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        myfile&lt;&lt;xSteps&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;ySteps&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;zSteps&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;<a class="code" href="namespaceadd__noise__to__field.html#a96cf5cc2cc008d7422009cb2ad93cb51">step</a>&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;xRange&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;yRange&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;zRange&lt;&lt;std::endl;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> =0 ; <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> &lt; xSteps; <a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>++){</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacerunPythia8.html#a4cd74a33c53eaeef70fcb6b448b9b285">k</a>=0;  <a class="code" href="namespacerunPythia8.html#a4cd74a33c53eaeef70fcb6b448b9b285">k</a>&lt;ySteps;<a class="code" href="namespacerunPythia8.html#a4cd74a33c53eaeef70fcb6b448b9b285">k</a>++){</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="ShipBellField_8cxx.html#a42d42dd2c682d42f11de58e34c89f895">m</a>=0; <a class="code" href="ShipBellField_8cxx.html#a42d42dd2c682d42f11de58e34c89f895">m</a>&lt;zSteps; <a class="code" href="ShipBellField_8cxx.html#a42d42dd2c682d42f11de58e34c89f895">m</a>++){</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                                Double_t <a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[3] = {0.0, 0.0, 0.0};</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                                Double_t <a class="code" href="namespacegeometry__config.html#a1286b5c01494c311eb3a950d1ac8857c">x</a> = <a class="code" href="namespaceadd__noise__to__field.html#a96cf5cc2cc008d7422009cb2ad93cb51">step</a>*<a class="code" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                                Double_t <a class="code" href="namespacegeometry__config.html#aa7c54d6eeebcc821b55222c6926f6740">y</a> = <a class="code" href="namespaceadd__noise__to__field.html#a96cf5cc2cc008d7422009cb2ad93cb51">step</a> * <a class="code" href="namespacerunPythia8.html#a4cd74a33c53eaeef70fcb6b448b9b285">k</a>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                                Double_t <a class="code" href="namespacegeometry__config.html#a4487257c46b838ef1172b356289460c4">z</a> = <a class="code" href="ShipBellField_8cxx.html#a42d42dd2c682d42f11de58e34c89f895">m</a> * <a class="code" href="namespaceadd__noise__to__field.html#a96cf5cc2cc008d7422009cb2ad93cb51">step</a> - zRange + zShift;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                                position[0] = <a class="code" href="namespacegeometry__config.html#a1286b5c01494c311eb3a950d1ac8857c">x</a>;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                                position[1] = <a class="code" href="namespacegeometry__config.html#aa7c54d6eeebcc821b55222c6926f6740">y</a>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                                position[2] = <a class="code" href="namespacegeometry__config.html#a4487257c46b838ef1172b356289460c4">z</a>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                                Bool_t inside(kFALSE);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                                TGeoNode* theNode = gGeoManager-&gt;FindNode(position[0], position[1], position[2]);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                                <span class="keywordflow">if</span> (theNode) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                                        TGeoVolume* theVol = theNode-&gt;GetVolume();</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                                        <span class="keywordflow">if</span> (theVol) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                                                TVirtualMagField* theField = <span class="keyword">dynamic_cast&lt;</span>TVirtualMagField*<span class="keyword">&gt;</span>(theVol-&gt;GetField());</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                                                <span class="keywordflow">if</span> (theField) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                                                    theField-&gt;Field(position, <a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                                                    inside = kTRUE;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                                                }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                                        }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                                }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                                <span class="keywordflow">if</span> (inside == kFALSE &amp;&amp; <a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a>) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                                        <a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a>-&gt;<a class="code" href="classShipCompField.html#ac5af42fbec6900837d97fc74af653082">Field</a>(position, <a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                                }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                                myfile&lt;&lt;<a class="code" href="namespacegeometry__config.html#a1286b5c01494c311eb3a950d1ac8857c">x</a>&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;<a class="code" href="namespacegeometry__config.html#aa7c54d6eeebcc821b55222c6926f6740">y</a>&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;<a class="code" href="namespacegeometry__config.html#a4487257c46b838ef1172b356289460c4">z</a>&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;<a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[0]/<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;<a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[1]/<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;<a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[2]/<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>&lt;&lt;std::endl;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                        }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        myfile.close();</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;}</div>
<div class="ttc" id="aShipBellField_8cxx_html_a42d42dd2c682d42f11de58e34c89f895"><div class="ttname"><a href="ShipBellField_8cxx.html#a42d42dd2c682d42f11de58e34c89f895">m</a></div><div class="ttdeci">Double_t m</div><div class="ttdef"><b>Definition:</b> <a href="ShipBellField_8cxx_source.html#l00020">ShipBellField.cxx:20</a></div></div>
<div class="ttc" id="aclassShipCompField_html_ac5af42fbec6900837d97fc74af653082"><div class="ttname"><a href="classShipCompField.html#ac5af42fbec6900837d97fc74af653082">ShipCompField::Field</a></div><div class="ttdeci">virtual void Field(const Double_t *position, Double_t *B)</div><div class="ttdoc">The total magnetic field from all of the composite sources (linear superposition)</div><div class="ttdef"><b>Definition:</b> <a href="ShipCompField_8cxx_source.html#l00041">ShipCompField.cxx:41</a></div></div>
<div class="ttc" id="anamespaceadd__noise__to__field_html_a96cf5cc2cc008d7422009cb2ad93cb51"><div class="ttname"><a href="namespaceadd__noise__to__field.html#a96cf5cc2cc008d7422009cb2ad93cb51">add_noise_to_field.step</a></div><div class="ttdeci">step</div><div class="ttdef"><b>Definition:</b> <a href="add__noise__to__field_8py_source.html#l00069">add_noise_to_field.py:69</a></div></div>
<div class="ttc" id="anamespacegeometry__config_html_a1286b5c01494c311eb3a950d1ac8857c"><div class="ttname"><a href="namespacegeometry__config.html#a1286b5c01494c311eb3a950d1ac8857c">geometry_config.x</a></div><div class="ttdeci">x</div><div class="ttdef"><b>Definition:</b> <a href="geometry__config_8py_source.html#l00183">geometry_config.py:183</a></div></div>
<div class="ttc" id="anamespacegeometry__config_html_aa52009c79b19f5c569b183e74aa588c7"><div class="ttname"><a href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">geometry_config.B</a></div><div class="ttdeci">B</div><div class="ttdef"><b>Definition:</b> <a href="geometry__config_8py_source.html#l00448">geometry_config.py:448</a></div></div>
<div class="ttc" id="anamespacegeometry__config_html_aa7c54d6eeebcc821b55222c6926f6740"><div class="ttname"><a href="namespacegeometry__config.html#aa7c54d6eeebcc821b55222c6926f6740">geometry_config.y</a></div><div class="ttdeci">y</div><div class="ttdef"><b>Definition:</b> <a href="geometry__config_8py_source.html#l00182">geometry_config.py:182</a></div></div>
<div class="ttc" id="anamespacerunPythia8_html_a4cd74a33c53eaeef70fcb6b448b9b285"><div class="ttname"><a href="namespacerunPythia8.html#a4cd74a33c53eaeef70fcb6b448b9b285">runPythia8.k</a></div><div class="ttdeci">int k</div><div class="ttdef"><b>Definition:</b> <a href="runPythia8_8py_source.html#l00129">runPythia8.py:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="accaa26ec666c64a954749a452268730d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accaa26ec666c64a954749a452268730d">&#9670;&nbsp;</a></span>getAllFields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classShipFieldMaker.html#aa1e6a61468cf4047a817ebba21dca3ac">SFMap</a> ShipFieldMaker::getAllFields </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the map storing volume names and their associated local magnetic fields. </p>
<dl class="section return"><dt>Returns</dt><dd>the map of volume names and their corresponding magnetic field pointers </dd></dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00201">201</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{<span class="keywordflow">return</span> <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a536ddce150f887c5434c788216bf00cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a536ddce150f887c5434c788216bf00cd">&#9670;&nbsp;</a></span>getField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVirtualMagField * ShipFieldMaker::getField </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the field stored with the given name name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the field </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the pointer to the magnetic field object </dd></dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01201">1201</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;{</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    TVirtualMagField* theField(0);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="comment">// Iterate over the internal map and see if we have a match</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    SFMap::const_iterator iter;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">for</span> (iter = <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>.begin(); iter != <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>.end(); ++iter) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    TString <a class="code" href="namespaceextractNeutrinosAndUpdateWeight.html#a47804d77c17d9de386802c99c350d7a8">key</a> = iter-&gt;first;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    TVirtualMagField* BField = iter-&gt;second;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="comment">// Check that we have the key already stored</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespaceextractNeutrinosAndUpdateWeight.html#a47804d77c17d9de386802c99c350d7a8">key</a>.CompareTo(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>, TString::kExact)) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        theField = BField;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keywordflow">return</span> theField;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;}</div>
<div class="ttc" id="anamespaceextractNeutrinosAndUpdateWeight_html_a47804d77c17d9de386802c99c350d7a8"><div class="ttname"><a href="namespaceextractNeutrinosAndUpdateWeight.html#a47804d77c17d9de386802c99c350d7a8">extractNeutrinosAndUpdateWeight.key</a></div><div class="ttdeci">int key</div><div class="ttdef"><b>Definition:</b> <a href="extractNeutrinosAndUpdateWeight_8py_source.html#l00038">extractNeutrinosAndUpdateWeight.py:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83d9dfa8ec297bd257b128edad3f69f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d9dfa8ec297bd257b128edad3f69f5">&#9670;&nbsp;</a></span>getGlobalField()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classShipCompField.html">ShipCompField</a>* ShipFieldMaker::getGlobalField </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the global magnetic field. </p>
<dl class="section return"><dt>Returns</dt><dd>the global magnetic field pointer </dd></dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00195">195</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{<span class="keywordflow">return</span> <a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e7d9c110249730e4a725e374c321aee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e7d9c110249730e4a725e374c321aee">&#9670;&nbsp;</a></span>getTransformation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::getTransformation </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>volName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structShipFieldMaker_1_1transformInfo.html">transformInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>theInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the transformation matrix for the volume position and orientation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">volName</td><td>The name of the volume </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">theInfo</td><td>The transformation information structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01057">1057</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                                                                                     {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="comment">// Find the geometry node that matches the volume name. We need to search</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="comment">// the geometry hierarchy recursively until we get a match. Note that nodes</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="comment">// have &quot;_1&quot; appended to the volume name.</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    theInfo.x0_ = 0.0; theInfo.y0_ = 0.0; theInfo.z0_ = 0.0;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    theInfo.phi_ = 0.0; theInfo.theta_ = 0.0; theInfo.psi_ = 0.0;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    TGeoMatrix* theMatrix(0);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    TGeoVolume* topVolume = gGeoManager-&gt;GetTopVolume();</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">if</span> (!topVolume) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Can&#39;t find the top volume in ShipFieldMaker::getTransformation&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {std::cout&lt;&lt;<span class="stringliteral">&quot;Finding transformation for &quot;</span>&lt;&lt;volName&lt;&lt;std::endl;}</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="comment">// Find the geometry node that matches the required name</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="classShipFieldMaker.html#a7216f114250b997e81bea9b25f7c93c4">theNode_</a> = 0;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="classShipFieldMaker.html#a3e87ea764b4ee5b75c44f3fb60a643e6">gotNode_</a> = kFALSE;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a1d779389098e85a4055b5f2da7ed02e9">findNode</a>(topVolume, volName);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#a7216f114250b997e81bea9b25f7c93c4">theNode_</a>) {theMatrix = <a class="code" href="classShipFieldMaker.html#a7216f114250b997e81bea9b25f7c93c4">theNode_</a>-&gt;GetMatrix();}</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="comment">// Retrieve the translation and rotation information</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">if</span> (theMatrix) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// Translation displacement components</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keyword">const</span> Double_t* theTrans = theMatrix-&gt;GetTranslation();</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    theInfo.x0_ = theTrans[0];</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    theInfo.y0_ = theTrans[1];</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    theInfo.z0_ = theTrans[2];</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">// Euler rotation angles. First check if we have a combined translation</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="comment">// and rotation, then check if we just have a pure rotation</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (theMatrix-&gt;IsCombi()) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        TGeoCombiTrans* theCombi = <span class="keyword">dynamic_cast&lt;</span>TGeoCombiTrans*<span class="keyword">&gt;</span>(theMatrix);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">if</span> (theCombi) {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        TGeoRotation* combRotn = theCombi-&gt;GetRotation();</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">if</span> (combRotn) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            combRotn-&gt;GetAngles(theInfo.phi_, theInfo.theta_, theInfo.psi_);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (theMatrix-&gt;IsRotation()) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        TGeoRotation* theRotn = <span class="keyword">dynamic_cast&lt;</span>TGeoRotation*<span class="keyword">&gt;</span>(theMatrix);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="keywordflow">if</span> (theRotn) {</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        theRotn-&gt;GetAngles(theInfo.phi_, theInfo.theta_, theInfo.psi_);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a899a97b15a3d1fd31046b37894ff2ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a899a97b15a3d1fd31046b37894ff2ea2">&#9670;&nbsp;</a></span>getVolumeField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVirtualMagField * ShipFieldMaker::getVolumeField </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>volName</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the magnetic field for the given volume. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">volName</td><td>The name of the TGeo volume </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the pointer of the local magnetic field for the volume </dd></dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01161">1161</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;{</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    TVirtualMagField* theField(0);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    TGeoVolume* theVol(0);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">if</span> (gGeoManager) {theVol = gGeoManager-&gt;FindVolumeFast(volName.Data());}</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">if</span> (theVol) {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="comment">// Need to cast the TObject* to a TVirtualMagField*</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    theField = <span class="keyword">dynamic_cast&lt;</span>TVirtualMagField*<span class="keyword">&gt;</span>(theVol-&gt;GetField());</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    }</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span> theField;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a17a6b35bad80d92efa102b9427f615e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a6b35bad80d92efa102b9427f615e0">&#9670;&nbsp;</a></span>gotField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool_t ShipFieldMaker::gotField </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if we have a field stored with the given name name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the field </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a boolean to say if we already have the field stored in the internal map </dd></dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01177">1177</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;{</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    Bool_t result(kFALSE);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="comment">// Iterate over the internal map and see if we have a match</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    SFMap::const_iterator iter;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">for</span> (iter = <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>.begin(); iter != <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>.end(); ++iter) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    TString <a class="code" href="namespaceextractNeutrinosAndUpdateWeight.html#a47804d77c17d9de386802c99c350d7a8">key</a> = iter-&gt;first;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    TVirtualMagField* theField = iter-&gt;second;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="comment">// Check that we have the key already stored and the pointer is not null</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespaceextractNeutrinosAndUpdateWeight.html#a47804d77c17d9de386802c99c350d7a8">key</a>.CompareTo(<a class="code" href="namespacemakeCascade.html#add259298592a80ac35262a17847aee2d">name</a>, TString::kExact) &amp;&amp; theField) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        result = kTRUE;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2665b83c6717fb3d84359146dfbcf33d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2665b83c6717fb3d84359146dfbcf33d">&#9670;&nbsp;</a></span>plotField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::plotField </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>xAxis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>yAxis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>plotFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plot the magnetic field in "x-y" plane. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The co-ordinate type: 0 = x-y, 1 = z-x and 2 = z-y </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xAxis</td><td>Three vector specifying the min, max and bin width of the x axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yAxis</td><td>Three vector specifying the min, max and bin width of the y axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">plotFile</td><td>The name of the output file containing the plot of the magnetic field </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01243">1243</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;{</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;ShipFieldMaker plotField &quot;</span>&lt;&lt;plotFile&lt;&lt;<span class="stringliteral">&quot;: type = &quot;</span>&lt;&lt;<a class="code" href="namespaceadd__noise__to__field.html#aa1214d0959ccc6208cc336ba72961a17">type</a>&lt;&lt;std::endl;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    Double_t xMin = xAxis(0);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    Double_t <a class="code" href="namespacegeometry__config.html#a437302764acd932304dabd2a65070edf">xMax</a> = xAxis(1);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    Double_t dx   = xAxis(2);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    Int_t Nx(0);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">if</span> (dx &gt; 0.0) {Nx = <span class="keyword">static_cast&lt;</span>Int_t<span class="keyword">&gt;</span>(((<a class="code" href="namespacegeometry__config.html#a437302764acd932304dabd2a65070edf">xMax</a> - xMin)/dx) + 0.5);}</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    Double_t yMin = yAxis(0);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    Double_t yMax = yAxis(1);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    Double_t <a class="code" href="namespaceShipAna.html#a02a40c51d86f2bb079d5d8018e56f028">dy</a>   = yAxis(2);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    Int_t Ny(0);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceShipAna.html#a02a40c51d86f2bb079d5d8018e56f028">dy</a> &gt; 0.0) {Ny = <span class="keyword">static_cast&lt;</span>Int_t<span class="keyword">&gt;</span>(((yMax - yMin)/<a class="code" href="namespaceShipAna.html#a02a40c51d86f2bb079d5d8018e56f028">dy</a>) + 0.5);}</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="comment">// Create a 2d histogram</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nhistograms = 4; <span class="comment">//x,y,z,and magnitude</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> ncoordinates = 3; <span class="comment">//x,y,z</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    TH2D theHist[nhistograms];</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    std::string titles[nhistograms] = {<span class="stringliteral">&quot;Bx (T)&quot;</span>,<span class="stringliteral">&quot;By (T)&quot;</span>,<span class="stringliteral">&quot;Bz (T)&quot;</span>,<span class="stringliteral">&quot;B (T)&quot;</span>};</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> icomponent = 0; icomponent&lt; nhistograms; icomponent++){</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      theHist[icomponent] = TH2D(Form(<span class="stringliteral">&quot;theHist[%i]&quot;</span>,icomponent), titles[icomponent].data(), Nx, xMin, <a class="code" href="namespacegeometry__config.html#a437302764acd932304dabd2a65070edf">xMax</a>, Ny, yMin, yMax);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      theHist[icomponent].SetDirectory(0);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespaceadd__noise__to__field.html#aa1214d0959ccc6208cc336ba72961a17">type</a> == 0) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="comment">// x-y</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    theHist[icomponent].SetXTitle(<span class="stringliteral">&quot;x (cm)&quot;</span>);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    theHist[icomponent].SetYTitle(<span class="stringliteral">&quot;y (cm)&quot;</span>);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;     }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceadd__noise__to__field.html#aa1214d0959ccc6208cc336ba72961a17">type</a> == 1) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="comment">// z-x</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    theHist[icomponent].SetXTitle(<span class="stringliteral">&quot;z (cm)&quot;</span>);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    theHist[icomponent].SetYTitle(<span class="stringliteral">&quot;x (cm)&quot;</span>);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceadd__noise__to__field.html#aa1214d0959ccc6208cc336ba72961a17">type</a> == 2) {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="comment">// z-y</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    theHist[icomponent].SetXTitle(<span class="stringliteral">&quot;z (cm)&quot;</span>);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    theHist[icomponent].SetYTitle(<span class="stringliteral">&quot;y (cm)&quot;</span>);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      }</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="comment">// Get list of volumes (to check for local fields)</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    TObjArray* theVolumes = gGeoManager-&gt;GetListOfVolumes();</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    Int_t nVol(0);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="keywordflow">if</span> (theVolumes) {nVol = theVolumes-&gt;GetSize();}</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="comment">// Loop over &quot;x&quot; axis</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">for</span> (Int_t ix = 0; ix &lt; Nx; ix++) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    Double_t <a class="code" href="namespacegeometry__config.html#a1286b5c01494c311eb3a950d1ac8857c">x</a> = dx*ix + xMin;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="comment">// Loop over &quot;y&quot; axis</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">for</span> (Int_t iy = 0; iy &lt; Ny; iy++) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        Double_t <a class="code" href="namespacegeometry__config.html#aa7c54d6eeebcc821b55222c6926f6740">y</a> = <a class="code" href="namespaceShipAna.html#a02a40c51d86f2bb079d5d8018e56f028">dy</a>*iy + yMin;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="comment">// Initialise the B field array to zero</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        Double_t <a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[ncoordinates] = {0.0, 0.0, 0.0};</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <span class="comment">// Initialise the position array to zero</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        Double_t position[ncoordinates] = {0.0, 0.0, 0.0};</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespaceadd__noise__to__field.html#aa1214d0959ccc6208cc336ba72961a17">type</a> == 0) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="comment">// x-y</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            position[0] = <a class="code" href="namespacegeometry__config.html#a1286b5c01494c311eb3a950d1ac8857c">x</a>, position[1] = <a class="code" href="namespacegeometry__config.html#aa7c54d6eeebcc821b55222c6926f6740">y</a>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceadd__noise__to__field.html#aa1214d0959ccc6208cc336ba72961a17">type</a> == 1) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="comment">// z-x</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        position[0] = <a class="code" href="namespacegeometry__config.html#aa7c54d6eeebcc821b55222c6926f6740">y</a>, position[2] = <a class="code" href="namespacegeometry__config.html#a1286b5c01494c311eb3a950d1ac8857c">x</a>;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceadd__noise__to__field.html#aa1214d0959ccc6208cc336ba72961a17">type</a> == 2) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <span class="comment">// z-y</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        position[1] = <a class="code" href="namespacegeometry__config.html#aa7c54d6eeebcc821b55222c6926f6740">y</a>; position[2] = <a class="code" href="namespacegeometry__config.html#a1286b5c01494c311eb3a950d1ac8857c">x</a>;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <span class="comment">// Find out if the point is inside one of the geometry volumes</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        Bool_t inside(kFALSE);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="comment">// Find the geoemtry node (volume path)</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        TGeoNode* theNode = gGeoManager-&gt;FindNode(position[0], position[1], position[2]);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="keywordflow">if</span> (theNode) {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="comment">// Get the volume</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        TGeoVolume* theVol = theNode-&gt;GetVolume();</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <span class="keywordflow">if</span> (theVol) {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <span class="comment">// Get the magnetic field</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            TVirtualMagField* theField = <span class="keyword">dynamic_cast&lt;</span>TVirtualMagField*<span class="keyword">&gt;</span>(theVol-&gt;GetField());</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            <span class="keywordflow">if</span> (theField) {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="comment">// Find the &quot;local&quot; field inside the volume (using global co-ords)</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            theField-&gt;Field(position, <a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            inside = kTRUE;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            } <span class="comment">// theField</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        } <span class="comment">// volume</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160; </div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        } <span class="comment">// node</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160; </div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        <span class="comment">// If no local volumes found, use global field if it exists</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        <span class="keywordflow">if</span> (inside == kFALSE &amp;&amp; <a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a>) {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a>-&gt;<a class="code" href="classShipCompField.html#ac5af42fbec6900837d97fc74af653082">Field</a>(position, <a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        }</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        <span class="comment">// Divide by the Tesla_ factor, since we want to plot Tesla_ not kGauss (VMC/FairRoot units)</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> icomponent = 0; icomponent&lt;ncoordinates; icomponent++){</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;          theHist[icomponent].Fill(<a class="code" href="namespacegeometry__config.html#a1286b5c01494c311eb3a950d1ac8857c">x</a>,<a class="code" href="namespacegeometry__config.html#aa7c54d6eeebcc821b55222c6926f6740">y</a>, <a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[icomponent]/<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        Double_t BMag = sqrt(<a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[0]*<a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[0] + <a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[1]*<a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[1] + <a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[2]*<a class="code" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>[2])/<a class="code" href="classShipFieldMaker.html#a86b97bf8ceebc3cc4f8d02eb72adf245">Tesla_</a>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        theHist[3].Fill(<a class="code" href="namespacegeometry__config.html#a1286b5c01494c311eb3a950d1ac8857c">x</a>, <a class="code" href="namespacegeometry__config.html#aa7c54d6eeebcc821b55222c6926f6740">y</a>, BMag);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    } <span class="comment">// &quot;y&quot; axis</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    } <span class="comment">// &quot;x&quot; axis</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    Bool_t wasBatch = gROOT-&gt;IsBatch();</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="comment">// Disable pop-up windows</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    gROOT-&gt;SetBatch(kTRUE);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    TCanvas theCanvas(<span class="stringliteral">&quot;theCanvas&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 900, 700);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    gROOT-&gt;SetStyle(<span class="stringliteral">&quot;Plain&quot;</span>);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    gStyle-&gt;SetOptStat(0);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="comment">// Set colour style</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    gStyle-&gt;SetPalette(kBird);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    theCanvas.UseCurrentStyle();</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    theCanvas.Divide(2,2);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> icomponent = 0; icomponent &lt; nhistograms; icomponent++){</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        theCanvas.cd(icomponent+1);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        theHist[icomponent].Draw(<span class="stringliteral">&quot;colz&quot;</span>);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    theCanvas.Print(plotFile.c_str());</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="comment">// Reset the batch boolean</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">if</span> (wasBatch == kFALSE) {gROOT-&gt;SetBatch(kFALSE);}</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160; </div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;}</div>
<div class="ttc" id="anamespaceShipAna_html_a02a40c51d86f2bb079d5d8018e56f028"><div class="ttname"><a href="namespaceShipAna.html#a02a40c51d86f2bb079d5d8018e56f028">ShipAna.dy</a></div><div class="ttdeci">dy</div><div class="ttdef"><b>Definition:</b> <a href="ShipAna_8py_source.html#l00059">ShipAna.py:59</a></div></div>
<div class="ttc" id="anamespaceadd__noise__to__field_html_aa1214d0959ccc6208cc336ba72961a17"><div class="ttname"><a href="namespaceadd__noise__to__field.html#aa1214d0959ccc6208cc336ba72961a17">add_noise_to_field.type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="add__noise__to__field_8py_source.html#l00053">add_noise_to_field.py:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a698a413d7c12014fb5899e4671ffd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a698a413d7c12014fb5899e4671ffd6">&#9670;&nbsp;</a></span>plotXYField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::plotXYField </td>
          <td>(</td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>xAxis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>yAxis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>plotFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plot the magnetic field in x-y plane. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">xAxis</td><td>Three vector specifying the min, max and bin width of the x axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yAxis</td><td>Three vector specifying the min, max and bin width of the y axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">plotFile</td><td>The name of the output file containing the plot of the magnetic field </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01225">1225</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;{</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a2665b83c6717fb3d84359146dfbcf33d">plotField</a>(0, xAxis, yAxis, plotFile);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_a2665b83c6717fb3d84359146dfbcf33d"><div class="ttname"><a href="classShipFieldMaker.html#a2665b83c6717fb3d84359146dfbcf33d">ShipFieldMaker::plotField</a></div><div class="ttdeci">void plotField(Int_t type, const TVector3 &amp;xAxis, const TVector3 &amp;yAxis, const std::string &amp;plotFile) const</div><div class="ttdoc">Plot the magnetic field in &quot;x-y&quot; plane.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l01243">ShipFieldMaker.cxx:1243</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeaef20e541cc1c3969a633295e84d07e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaef20e541cc1c3969a633295e84d07e">&#9670;&nbsp;</a></span>plotZXField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::plotZXField </td>
          <td>(</td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>zAxis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>xAxis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>plotFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plot the magnetic field in z-x plane. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">zAxis</td><td>Three vector specifying the min, max and bin width of the z axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xAxis</td><td>Three vector specifying the min, max and bin width of the x axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">plotFile</td><td>The name of the output file containing the plot of the magnetic field </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01231">1231</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;{</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a2665b83c6717fb3d84359146dfbcf33d">plotField</a>(1, zAxis, xAxis, plotFile);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a542d34a08c9a1ca6503400929f41f28f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542d34a08c9a1ca6503400929f41f28f">&#9670;&nbsp;</a></span>plotZYField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::plotZYField </td>
          <td>(</td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>zAxis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>yAxis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>plotFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plot the magnetic field in z-y plane. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">zAxis</td><td>Three vector specifying the min, max and bin width of the z axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yAxis</td><td>Three vector specifying the min, max and bin width of the y axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">plotFile</td><td>The name of the output file containing the plot of the magnetic field </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01237">1237</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;{</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    this-&gt;<a class="code" href="classShipFieldMaker.html#a2665b83c6717fb3d84359146dfbcf33d">plotField</a>(2, zAxis, yAxis, plotFile);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a701024f675b38d7077540377f371d631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a701024f675b38d7077540377f371d631">&#9670;&nbsp;</a></span>readInputFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::readInputFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>inputFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read an input file to define fields and associated volumes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputFile</td><td>The input text file </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00074">74</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// Check that we have a non-empty string</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacerun__simEcal.html#a4c5f305488612c246a0fecf3a69c882a">inputFile</a>.size() &lt; 1) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    std::cerr&lt;&lt;<span class="stringliteral">&quot;Skipping ShipFieldMaker::readInputFile(): file name is empty&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    std::string fullFileName = getenv(<span class="stringliteral">&quot;VMCWORKDIR&quot;</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    fullFileName += <span class="stringliteral">&quot;/&quot;</span>; fullFileName += <a class="code" href="namespacerun__simEcal.html#a4c5f305488612c246a0fecf3a69c882a">inputFile</a>.c_str();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;ShipFieldMaker::makeFields inputFile = &quot;</span>&lt;&lt;fullFileName&lt;&lt;std::endl;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    std::ifstream getData(fullFileName);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    std::string whiteSpace(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// Loop while the input file is readable</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">while</span> (getData.good()) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> (getData.peek() == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="comment">// Finish reading line</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="namespacehnl.html#adb7ba50b8941bf3badea16f97cb665d5">c</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        getData.get(<a class="code" href="namespacehnl.html#adb7ba50b8941bf3badea16f97cb665d5">c</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="comment">// Stop while loop if we have reached the end of the file</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span> (getData.eof()) {<span class="keywordflow">break</span>;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (getData.peek() == <span class="charliteral">&#39;#&#39;</span>) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="comment">// Skip comment line</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        getData.ignore(1000, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        getData.putback(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="comment">// Stop while loop if we have reached the end of the file</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">if</span> (getData.eof()) {<span class="keywordflow">break</span>;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="comment">// Read data line</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        std::string line(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        std::getline(getData, line);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="comment">// Stop while loop if we have reached the end of the file</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">if</span> (getData.eof()) {<span class="keywordflow">break</span>;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="comment">// Split up the line according to white spaces</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        std::vector&lt;std::string&gt; lineVect = this-&gt;<a class="code" href="classShipFieldMaker.html#ae27cc8750c597b88d37e30278179c353">splitString</a>(line, whiteSpace);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordtype">size_t</span> nWords = lineVect.size();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="comment">// Check to see if we have at least one keyword at the start of the line</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">if</span> (nWords &gt; 1) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        TString keyWord(lineVect[0].c_str());</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        keyWord.ToLower();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (!keyWord.CompareTo(<span class="stringliteral">&quot;uniform&quot;</span>)) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="comment">// Define the uniform magnetic field</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#ab664b64d707783cf30521c2ac9bd5192">defineUniform</a>(lineVect);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!keyWord.CompareTo(<span class="stringliteral">&quot;constant&quot;</span>)) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="comment">// Define a uniform field with an x,y,z boundary</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#ae11b9703aa051c2cb86ef40aed49d19a">defineConstant</a>(lineVect);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!keyWord.CompareTo(<span class="stringliteral">&quot;bell&quot;</span>)) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="comment">// Define the Bell-shaped field</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#ad4378f3a215dff42795254e8ae6a5c8e">defineBell</a>(lineVect);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!keyWord.CompareTo(<span class="stringliteral">&quot;fieldmap&quot;</span>)) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="comment">// Define the field map</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#a0a845f73b3c26e2b5c660bcce4dbef4e">defineFieldMap</a>(lineVect);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!keyWord.CompareTo(<span class="stringliteral">&quot;symfieldmap&quot;</span>)) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="comment">// Define the symmetric field map</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#a0a845f73b3c26e2b5c660bcce4dbef4e">defineFieldMap</a>(lineVect, kTRUE);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!keyWord.CompareTo(<span class="stringliteral">&quot;copymap&quot;</span>)) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="comment">// Copy (&amp; translate) the field map</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#ad7bda3f864f4850aeff421b72693531a">defineFieldMapCopy</a>(lineVect);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!keyWord.CompareTo(<span class="stringliteral">&quot;composite&quot;</span>)) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="comment">// Define the composite field</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#a1ecd681a7649f6106e96711b7124efab">defineComposite</a>(lineVect);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!keyWord.CompareTo(<span class="stringliteral">&quot;global&quot;</span>)) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="comment">// Define which fields are global</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#a8dd099f27be8e0c6b489038b1b4ce681">defineGlobalField</a>(lineVect);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!keyWord.CompareTo(<span class="stringliteral">&quot;region&quot;</span>)) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="comment">// Define the local and global fields for the given volume</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#aef31f2695b538e04b00db829f7895e57">defineRegionField</a>(lineVect);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!keyWord.CompareTo(<span class="stringliteral">&quot;local&quot;</span>)) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="comment">// Define the field for the given volume as the local one only</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            this-&gt;<a class="code" href="classShipFieldMaker.html#a9da15b26eea1a0d7eb588e2689c87e99">defineLocalField</a>(lineVect);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    getData.close();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_ae27cc8750c597b88d37e30278179c353"><div class="ttname"><a href="classShipFieldMaker.html#ae27cc8750c597b88d37e30278179c353">ShipFieldMaker::splitString</a></div><div class="ttdeci">stringVect splitString(std::string &amp;theString, std::string &amp;splitter) const</div><div class="ttdoc">Split a string.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l01423">ShipFieldMaker.cxx:1423</a></div></div>
<div class="ttc" id="anamespacehnl_html_adb7ba50b8941bf3badea16f97cb665d5"><div class="ttname"><a href="namespacehnl.html#adb7ba50b8941bf3badea16f97cb665d5">hnl.c</a></div><div class="ttdeci">c</div><div class="ttdef"><b>Definition:</b> <a href="hnl_8py_source.html#l00098">hnl.py:98</a></div></div>
<div class="ttc" id="anamespacerun__simEcal_html_a4c5f305488612c246a0fecf3a69c882a"><div class="ttname"><a href="namespacerun__simEcal.html#a4c5f305488612c246a0fecf3a69c882a">run_simEcal.inputFile</a></div><div class="ttdeci">inputFile</div><div class="ttdef"><b>Definition:</b> <a href="run__simEcal_8py_source.html#l00014">run_simEcal.py:14</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a803162b64774be4b8d5b3ca5ecaff823"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a803162b64774be4b8d5b3ca5ecaff823">&#9670;&nbsp;</a></span>setAllLocalFields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::setAllLocalFields </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00907">907</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;{</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">// Loop over all entries in the localInfo_ vector and assign fields to their volumes</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    std::vector&lt;fieldInfo&gt;::iterator localIter;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">for</span> (localIter = <a class="code" href="classShipFieldMaker.html#a0c5203ee14b827b04a5a7f0c6b000c5d">localInfo_</a>.begin(); localIter != <a class="code" href="classShipFieldMaker.html#a0c5203ee14b827b04a5a7f0c6b000c5d">localInfo_</a>.end(); ++localIter) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    fieldInfo theInfo = *localIter;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keyword">const</span> TString volName = theInfo.volName_;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    TString fieldName = theInfo.fieldName_;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    Double_t <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a> = theInfo.scale_;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    TGeoVolume* theVol(0);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">if</span> (gGeoManager) {theVol = gGeoManager-&gt;FindVolumeFast(volName.Data());}</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">if</span> (theVol) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        TVirtualMagField* localField = this-&gt;<a class="code" href="classShipFieldMaker.html#a536ddce150f887c5434c788216bf00cd">getField</a>(fieldName);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="keywordflow">if</span> (localField) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        this-&gt;<a class="code" href="classShipFieldMaker.html#aea890712c5e87cf4a778197ae31e165c">checkLocalFieldMap</a>(localField, volName, <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        theVol-&gt;SetField(localField);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            std::cout&lt;&lt;<span class="stringliteral">&quot;Setting local field &quot;</span>&lt;&lt;localField-&gt;GetName()</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                 &lt;&lt;<span class="stringliteral">&quot; for volume &quot;</span>&lt;&lt;volName&lt;&lt;std::endl;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Could not find the field &quot;</span>&lt;&lt;fieldName.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Could not find the volume &quot;</span>&lt;&lt;volName.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    } <span class="comment">// localIter loop</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_aea890712c5e87cf4a778197ae31e165c"><div class="ttname"><a href="classShipFieldMaker.html#aea890712c5e87cf4a778197ae31e165c">ShipFieldMaker::checkLocalFieldMap</a></div><div class="ttdeci">void checkLocalFieldMap(TVirtualMagField *&amp;localField, const TString &amp;volName, Double_t scale)</div><div class="ttdoc">Check if we have a local field map and store the volume global transformation.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8cxx_source.html#l00951">ShipFieldMaker.cxx:951</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf44333a99dd882247caa811db06e56d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf44333a99dd882247caa811db06e56d">&#9670;&nbsp;</a></span>setAllRegionFields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShipFieldMaker::setAllRegionFields </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l00777">777</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;{</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="comment">// Loop over all entries in the regionInfo_ vector and assign fields to their volumes</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    std::vector&lt;fieldInfo&gt;::iterator regionIter;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">for</span> (regionIter = <a class="code" href="classShipFieldMaker.html#a610485fbe459382bd59d6025483cc2eb">regionInfo_</a>.begin(); regionIter != <a class="code" href="classShipFieldMaker.html#a610485fbe459382bd59d6025483cc2eb">regionInfo_</a>.end(); ++regionIter) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    fieldInfo theInfo = *regionIter;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keyword">const</span> TString volName = theInfo.volName_;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    TString fieldName = theInfo.fieldName_;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    Double_t <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a> = theInfo.scale_;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// Find the volume</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    TGeoVolume* theVol(0);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (gGeoManager) {theVol = gGeoManager-&gt;FindVolumeFast(volName.Data());}</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span> (theVol) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="comment">// Find the local field</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        TVirtualMagField* localField = this-&gt;<a class="code" href="classShipFieldMaker.html#a536ddce150f887c5434c788216bf00cd">getField</a>(fieldName);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">if</span> (localField) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="comment">// Check local field maps know about their associated volume position and orientation.</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="comment">// This will update the localField pointer if required</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        this-&gt;<a class="code" href="classShipFieldMaker.html#aea890712c5e87cf4a778197ae31e165c">checkLocalFieldMap</a>(localField, volName, <a class="code" href="namespacegeometry__config.html#a01eaa149d3b9651ecb01f9390e028d18">scale</a>);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="comment">// Reset the fieldName to use the name from the localField pointer, since this</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="comment">// could have changed for a local field map, for example</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        fieldName = localField-&gt;GetName();</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="comment">// See if we have already combined this local field with the global field</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a> &amp;&amp; fieldName.Length() &gt; 0) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            TString lgName(fieldName); lgName += <span class="stringliteral">&quot;Global&quot;</span>;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            TVirtualMagField* lgField = this-&gt;<a class="code" href="classShipFieldMaker.html#a536ddce150f887c5434c788216bf00cd">getField</a>(lgName);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            <span class="keywordflow">if</span> (!lgField) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <span class="comment">// Create the combined local + global field and store in the internal map.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="comment">// Other volumes that use the same combined field will use the stored pointer</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                std::cout&lt;&lt;<span class="stringliteral">&quot;Creating the combined field &quot;</span>&lt;&lt;lgName.Data()&lt;&lt;<span class="stringliteral">&quot;, with local field &quot;</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                     &lt;&lt;fieldName.Data()&lt;&lt;<span class="stringliteral">&quot; with the global field for volume &quot;</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                     &lt;&lt;volName.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <a class="code" href="classShipCompField.html">ShipCompField</a>* combField = <span class="keyword">new</span> <a class="code" href="classShipCompField.html">ShipCompField</a>(lgName.Data(), localField, <a class="code" href="classShipFieldMaker.html#a5a5f81e0a3cef2743365db927769912b">globalField_</a>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <a class="code" href="classShipFieldMaker.html#a40345310eef6cda554678945e52a7be6">theFields_</a>[lgName] = combField;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            theVol-&gt;SetField(combField);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                std::cout&lt;&lt;<span class="stringliteral">&quot;Setting the field &quot;</span>&lt;&lt;lgName.Data()</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                     &lt;&lt;<span class="stringliteral">&quot; for volume &quot;</span>&lt;&lt;volName.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            theVol-&gt;SetField(lgField);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classShipFieldMaker.html#aa6ea6ea385a201195ce579e19175072a">verbose_</a>) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            std::cout&lt;&lt;<span class="stringliteral">&quot;There is no global field defined. Just setting the local field&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            theVol-&gt;SetField(localField);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Could not find the local field &quot;</span>&lt;&lt;fieldName.Data()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Could not find the volume &quot;</span>&lt;&lt;volName&lt;&lt;std::endl;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    } <span class="comment">// regionIter loop</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae27cc8750c597b88d37e30278179c353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae27cc8750c597b88d37e30278179c353">&#9670;&nbsp;</a></span>splitString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">ShipFieldMaker::stringVect</a> ShipFieldMaker::splitString </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>theString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>splitter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Split a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">theString</td><td>The string to be split up </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">splitted</td><td>The delimiter that will be used to split up the string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a vector of the delimiter-separated strings </dd></dl>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8cxx_source.html#l01423">1423</a> of file <a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                                                          {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; </div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="comment">// Code from STLplus</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <a class="code" href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">stringVect</a> result;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">if</span> (!theString.empty() &amp;&amp; !splitter.empty()) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">for</span> (std::string::size_type <a class="code" href="namespacegeometry__config.html#a096864e8788dec1116bcc1ee523df8d1">offset</a> = 0;;) {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160; </div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        std::string::size_type found = theString.find(splitter, <a class="code" href="namespacegeometry__config.html#a096864e8788dec1116bcc1ee523df8d1">offset</a>);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keywordflow">if</span> (found != std::string::npos) {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        std::string tmpString = theString.substr(<a class="code" href="namespacegeometry__config.html#a096864e8788dec1116bcc1ee523df8d1">offset</a>, found-<a class="code" href="namespacegeometry__config.html#a096864e8788dec1116bcc1ee523df8d1">offset</a>);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordflow">if</span> (tmpString.size() &gt; 0) {result.push_back(tmpString);}</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <a class="code" href="namespacegeometry__config.html#a096864e8788dec1116bcc1ee523df8d1">offset</a> = found + splitter.size();</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        std::string tmpString = theString.substr(<a class="code" href="namespacegeometry__config.html#a096864e8788dec1116bcc1ee523df8d1">offset</a>, theString.size()-<a class="code" href="namespacegeometry__config.html#a096864e8788dec1116bcc1ee523df8d1">offset</a>);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <span class="keywordflow">if</span> (tmpString.size() &gt; 0) {result.push_back(tmpString);}</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        }</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;}</div>
<div class="ttc" id="aclassShipFieldMaker_html_a6704172970d0c5a787ca4dc5a44aaf13"><div class="ttname"><a href="classShipFieldMaker.html#a6704172970d0c5a787ca4dc5a44aaf13">ShipFieldMaker::stringVect</a></div><div class="ttdeci">std::vector&lt; std::string &gt; stringVect</div><div class="ttdoc">Typedef of a vector of strings.</div><div class="ttdef"><b>Definition:</b> <a href="ShipFieldMaker_8h_source.html#l00050">ShipFieldMaker.h:50</a></div></div>
<div class="ttc" id="anamespacegeometry__config_html_a096864e8788dec1116bcc1ee523df8d1"><div class="ttname"><a href="namespacegeometry__config.html#a096864e8788dec1116bcc1ee523df8d1">geometry_config.offset</a></div><div class="ttdeci">int offset</div><div class="ttdef"><b>Definition:</b> <a href="geometry__config_8py_source.html#l00339">geometry_config.py:339</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5a5f81e0a3cef2743365db927769912b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a5f81e0a3cef2743365db927769912b">&#9670;&nbsp;</a></span>globalField_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classShipCompField.html">ShipCompField</a>* ShipFieldMaker::globalField_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The global magnetic field. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00374">374</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>

</div>
</div>
<a id="a3e87ea764b4ee5b75c44f3fb60a643e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e87ea764b4ee5b75c44f3fb60a643e6">&#9670;&nbsp;</a></span>gotNode_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Bool_t ShipFieldMaker::gotNode_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Boolean to specify if we have found the volume node we need. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00395">395</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>

</div>
</div>
<a id="a0c5203ee14b827b04a5a7f0c6b000c5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c5203ee14b827b04a5a7f0c6b000c5d">&#9670;&nbsp;</a></span>localInfo_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structShipFieldMaker_1_1fieldInfo.html">fieldInfo</a>&gt; ShipFieldMaker::localInfo_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector of <a class="el" href="structShipFieldMaker_1_1fieldInfo.html" title="Structure to hold volume name, field name and field scaling factor.">fieldInfo</a> for local fields. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00383">383</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>

</div>
</div>
<a id="a610485fbe459382bd59d6025483cc2eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a610485fbe459382bd59d6025483cc2eb">&#9670;&nbsp;</a></span>regionInfo_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structShipFieldMaker_1_1fieldInfo.html">fieldInfo</a>&gt; ShipFieldMaker::regionInfo_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector of <a class="el" href="structShipFieldMaker_1_1fieldInfo.html" title="Structure to hold volume name, field name and field scaling factor.">fieldInfo</a> for regional fields. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00380">380</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>

</div>
</div>
<a id="a86b97bf8ceebc3cc4f8d02eb72adf245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86b97bf8ceebc3cc4f8d02eb72adf245">&#9670;&nbsp;</a></span>Tesla_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Double_t ShipFieldMaker::Tesla_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Double converting Tesla to kiloGauss (for VMC/FairRoot B field units) </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00389">389</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>

</div>
</div>
<a id="a40345310eef6cda554678945e52a7be6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40345310eef6cda554678945e52a7be6">&#9670;&nbsp;</a></span>theFields_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classShipFieldMaker.html#aa1e6a61468cf4047a817ebba21dca3ac">SFMap</a> ShipFieldMaker::theFields_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The map storing all created magnetic fields. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00377">377</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>

</div>
</div>
<a id="a7216f114250b997e81bea9b25f7c93c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7216f114250b997e81bea9b25f7c93c4">&#9670;&nbsp;</a></span>theNode_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TGeoNode* ShipFieldMaker::theNode_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current volume node: used for finding volume transformations. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00392">392</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>

</div>
</div>
<a id="aa6ea6ea385a201195ce579e19175072a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6ea6ea385a201195ce579e19175072a">&#9670;&nbsp;</a></span>verbose_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Bool_t ShipFieldMaker::verbose_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verbose boolean. </p>

<p class="definition">Definition at line <a class="el" href="ShipFieldMaker_8h_source.html#l00386">386</a> of file <a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>field/<a class="el" href="ShipFieldMaker_8h_source.html">ShipFieldMaker.h</a></li>
<li>field/<a class="el" href="ShipFieldMaker_8cxx_source.html">ShipFieldMaker.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classShipFieldMaker.html">ShipFieldMaker</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
